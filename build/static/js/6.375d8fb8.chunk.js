(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[6],{1239:function(e,t,c){},1306:function(e,t,c){"use strict";c.r(t),c.d(t,"Login",(function(){return f})),c.d(t,"Register",(function(){return x})),c.d(t,"RegisterComplete",(function(){return v})),c.d(t,"ForgotPassword",(function(){return g})),c.d(t,"Home",(function(){return y})),c.d(t,"Product",(function(){return k})),c.d(t,"CategoryHome",(function(){return E})),c.d(t,"SubcategoryHome",(function(){return _})),c.d(t,"Shop",(function(){return Y})),c.d(t,"Cart",(function(){return G})),c.d(t,"History",(function(){return q})),c.d(t,"Password",(function(){return K})),c.d(t,"Wishlist",(function(){return $})),c.d(t,"Checkout",(function(){return X})),c.d(t,"Payment",(function(){return ce})),c.d(t,"AdminDashboard",(function(){return oe})),c.d(t,"CategoryCreate",(function(){return je})),c.d(t,"CategoryUpdate",(function(){return le})),c.d(t,"SubcategoryCreate",(function(){return ue})),c.d(t,"SubcategoryUpdate",(function(){return de})),c.d(t,"ProductCreate",(function(){return me})),c.d(t,"AllProducts",(function(){return pe})),c.d(t,"ProductUpdate",(function(){return xe})),c.d(t,"CreateCoupon",(function(){return we}));var n=c(2),a=c(13),s=c.n(a),r=c(16),o=c(28),i=c(111),j=c(0),l=c(41),u=c(39),d=c(375),b=c(1318),O=c(1319),h=c(21),m=c(27),p=c(42),f=function(e){var t=e.history,c=Object(h.b)(),a=Object(j.useState)("dpac9525@gmail.com"),f=Object(i.a)(a,2),x=f[0],v=f[1],g=Object(j.useState)("abcd1234"),N=Object(i.a)(g,2),y=N[0],S=N[1],w=Object(j.useState)(!1),k=Object(i.a)(w,2),C=k[0],E=k[1],P=Object(h.c)((function(e){return Object(o.a)({},e)})).user;Object(j.useEffect)((function(){t.location.state||P&&P.token&&t.push("/")}),[t,P]);var _=function(e){var c=t.location.state;c?t.push(c.from):"admin"===e.data.role?t.push("/admin/dashboard"):t.push("/user/history")},A=function(e){v(e.target.value)},D=function(){var e=Object(r.a)(s.a.mark((function e(t){var n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),E(!0),e.prev=2,e.next=5,l.a.signInWithEmailAndPassword(x,y);case 5:return n=e.sent,a=n.user,e.next=9,a.getIdTokenResult();case 9:r=e.sent,Object(p.a)(r.token).then((function(e){c({type:"LOGGED_IN_USER",payload:{name:e.data.name,email:e.data.email,role:e.data.role,token:r.token,_id:e.data._id}}),_(e)})).catch((function(e){return console.log(e)})),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),u.b.error(e.t0.message),console.log(e.t0),E(!1);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.a.signInWithPopup(l.b).then(function(){var e=Object(r.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,e.next=3,n.getIdTokenResult();case 3:a=e.sent,Object(p.a)(a.token).then((function(e){c({type:"LOGGED_IN_USER",payload:{name:e.data.name,email:e.data.email,role:e.data.role,token:a.token,_id:e.data._id}}),_(e)})).catch((function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),u.b.error(e.message)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){S(e.target.value)};return Object(n.jsx)("div",{className:"container p-5",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-md-6 offset-md-3",children:[C?Object(n.jsx)("h4",{children:"Loading..."}):Object(n.jsx)("h4",{children:"Login"}),Object(n.jsxs)("form",{onSubmit:D,children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"email",className:"form-control",value:x,onChange:A,placeholder:"Your email",autoFocus:!0})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"password",className:"form-control",value:y,onChange:L,autoFocus:!0,placeholder:"Your Password"})}),Object(n.jsx)("br",{}),Object(n.jsx)(d.a,{onClick:D,type:"primary",className:"mb-3",block:!0,shape:"round",icon:Object(n.jsx)(b.a,{}),size:"large",disabled:!x||y.length<6,children:"Login with Email/Password"}),Object(n.jsx)(d.a,{onClick:R,type:"danger",className:"mb-3",block:!0,shape:"round",icon:Object(n.jsx)(O.a,{}),size:"large",children:"Login with Google"}),Object(n.jsx)(m.b,{to:"/forgot/password",className:"float-right",children:"Forgot password"})]})]})})})},x=function(e){var t=e.history,c=Object(j.useState)(""),a=Object(i.a)(c,2),d=a[0],b=a[1],O=Object(h.c)((function(e){return Object(o.a)({},e)})).user;Object(j.useEffect)((function(){O&&O.token&&t.push("/")}),[t,O]);var m=function(e){b(e.target.value)},p=function(){var e=Object(r.a)(s.a.mark((function e(t){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={url:"https://ecommy-backend.herokuapp.com/register/complete",handleCodeInApp:!0},e.next=4,l.a.sendSignInLinkToEmail(d,c);case 4:u.b.success("Email is sent to ".concat(d,", Click the link to complete your registration")),window.localStorage.setItem("emailForRegistration",d),b("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"container p-5",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(n.jsx)("h4",{children:"Register"}),Object(n.jsxs)("form",{onSubmit:p,children:[Object(n.jsx)("input",{type:"email",className:"form-control",value:d,onChange:m,placeholder:"Your email",autoFocus:!0}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{type:"submit",className:"btn btn-raised",children:"Register"})]})]})})})},v=function(e){var t=e.history,c=Object(h.b)(),a=Object(j.useState)(""),o=Object(i.a)(a,2),d=o[0],b=o[1],O=Object(j.useState)(""),m=Object(i.a)(O,2),f=m[0],x=m[1];Object(j.useEffect)((function(){b(window.localStorage.getItem("emailForRegistration")),console.log(window.location.href)}),[]);var v=function(e){x(e.target.value)},g=function(){var e=Object(r.a)(s.a.mark((function e(n){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),d&&f){e.next=4;break}return u.b.error("Please enter a valid email or password"),e.abrupt("return");case 4:if(!(f.length<6)){e.next=7;break}return u.b.error("Password must be greater than 6 characters"),e.abrupt("return");case 7:return e.prev=7,e.next=10,l.a.signInWithEmailLink(d,window.location.href);case 10:if(!e.sent.user.emailVerified){e.next=20;break}return window.localStorage.removeItem("emailForRegistration"),(a=l.a.currentUser).updatePassword(f),e.next=17,a.getIdTokenResult();case 17:r=e.sent,Object(p.a)(r.token).then((function(e){c({type:"LOGGED_IN_USER",payload:{name:e.data.name,email:e.data.email,role:e.data.role,token:r.token,_id:e.data._id}})})).catch((function(e){return console.log(e)})),t.push("/");case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(7),console.log(e.t0),u.b.error(e.t0.message);case 26:case"end":return e.stop()}}),e,null,[[7,22]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"container p-5",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(n.jsx)("h4",{children:"Register Complete"}),Object(n.jsxs)("form",{onSubmit:g,children:[Object(n.jsx)("input",{type:"email",className:"form-control",value:d,disabled:!0}),Object(n.jsx)("input",{type:"password",className:"form-control",value:f,onChange:v,autoFocus:!0,placeholder:"Enter Password"}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{type:"submit",className:"btn btn-raised",children:"Complete Registration"})]})]})})})},g=function(e){var t=e.history,c=Object(j.useState)(""),a=Object(i.a)(c,2),d=a[0],b=a[1],O=Object(j.useState)(!1),m=Object(i.a)(O,2),p=m[0],f=m[1],x=Object(h.c)((function(e){return Object(o.a)({},e)})).user;Object(j.useEffect)((function(){x&&x.token&&t.push("/")}),[t,x]);var v=function(){var e=Object(r.a)(s.a.mark((function e(t){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),f(!0),c={url:"https://ecommy-backend.herokuapp.com/login",handleCodeInApp:!0},e.next=5,l.a.sendPasswordResetEmail(d,c).then((function(){b(""),f(!1),u.b.success("Email is sent to ".concat(d,", Click the link to reset password"))})).catch((function(e){console.log(e),f(!1),u.b.error(e.message)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"container col-md-6 offset-md-3 p-5",children:[p?Object(n.jsx)("h4",{children:"...Loading"}):Object(n.jsx)("h4",{children:"Forgot Password"}),Object(n.jsxs)("form",{onSubmit:v,children:[Object(n.jsx)("input",{type:"email",className:"form-control",value:d,onChange:function(e){return b(e.target.value)},placeholder:"Your email",autoFocus:!0}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{className:"btn btn-raised",type:"submit",disabled:!d,children:"Send Link"})]})]})},N=c(121),y=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"jumbotron text-danger display-2 font-weight-bold text-center",children:Object(n.jsx)(N.Jumbotron,{text:["Latest Products","New Arrivals","Best Sellers"]})}),Object(n.jsx)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:"New Arrivals"}),Object(n.jsx)(N.NewArrivals,{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:"Best Sellers"}),Object(n.jsx)(N.BestSellers,{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:"Categories"}),Object(n.jsx)(N.CategoryList,{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:"Sub-Categories"}),Object(n.jsx)(N.SubcategoryList,{})]})},S=c(4),w=c(171),k=function(){var e=Object(j.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(j.useState)([]),r=Object(i.a)(s,2),l=r[0],u=r[1],d=Object(j.useState)(0),b=Object(i.a)(d,2),O=b[0],m=b[1],p=Object(S.g)().slug,f=Object(h.c)((function(e){return Object(o.a)({},e)})).user;Object(j.useEffect)((function(){x()}),[p]),Object(j.useEffect)((function(){if(c.ratings&&f){var e=c.ratings.find((function(e){return e.postedBy.toString()===f._id.toString()}));e&&m(e.star)}}));var x=function(){Object(w.c)(p).then((function(e){a(e.data),Object(w.g)(e.data._id).then((function(e){u(e.data)}))}))};return Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("div",{className:"row pt-4",children:Object(n.jsx)(N.SingleProduct,{product:c,star:O,handleChangeRating:function(e,t){m(e),Object(w.j)(f.token,t,e).then((function(e){x()}))}})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col text-center pt-5 pb-5",children:[Object(n.jsx)("hr",{}),Object(n.jsx)("h4",{children:"Related Products"}),Object(n.jsx)("hr",{})]})}),Object(n.jsx)("div",{className:"row pb-5",children:l.length?l.map((function(e){return Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(N.ProductCard,{product:e})},e._id)})):Object(n.jsx)("div",{className:"text-center col",children:"NO RELATED PRODUCTS FOUND"})})]})},C=c(152),E=function(){var e=Object(S.g)().slug,t=Object(j.useState)(),c=Object(i.a)(t,2),a=c[0],s=c[1],r=Object(j.useState)([]),o=Object(i.a)(r,2),l=o[0],u=o[1],d=Object(j.useState)(!1),b=Object(i.a)(d,2),O=b[0],h=b[1];return Object(j.useEffect)((function(){h(!0),Object(C.c)(e).then((function(e){s(e.data.category),u(e.data.products),h(!1)})).catch((function(e){h(!1),console.log(e)}))}),[]),Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col",children:O?Object(n.jsx)("h4",{className:"text-center jumbotron p-3 mt-5 mb-5 display-4",children:"Loading..."}):Object(n.jsxs)("h4",{className:"text-center jumbotron p-3 mt-5 mb-5 display-4",children:[l.length,' Products in "',a&&a.name,'" category']})})}),Object(n.jsx)("div",{className:"row",children:l.map((function(e){return Object(n.jsx)("div",{className:"col-md-3",children:Object(n.jsx)(N.ProductCard,{product:e})},e._id)}))})]})},P=c(205),_=function(){var e=Object(S.g)().slug,t=Object(j.useState)(),c=Object(i.a)(t,2),a=c[0],s=c[1],r=Object(j.useState)([]),o=Object(i.a)(r,2),l=o[0],u=o[1],d=Object(j.useState)(!1),b=Object(i.a)(d,2),O=b[0],h=b[1];return Object(j.useEffect)((function(){h(!0),Object(P.c)(e).then((function(e){s(e.data.subcategory),u(e.data.products),h(!1)})).catch((function(e){h(!1),console.log(e)}))}),[]),Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col",children:O?Object(n.jsx)("h4",{className:"text-center jumbotron p-3 mt-5 mb-5 display-4",children:"Loading..."}):Object(n.jsxs)("h4",{className:"text-center jumbotron p-3 mt-5 mb-5 display-4",children:[l.length,' Products in "',a&&a.name,'" sub - category']})})}),Object(n.jsx)("div",{className:"row",children:l.map((function(e){return Object(n.jsx)("div",{className:"col-md-3",children:Object(n.jsx)(N.ProductCard,{product:e})},e._id)}))})]})},A=c(1298),D=c(1310),R=c(1317),L=c(1315),U=c(1307),I=c(1336),F=c(1339),T=c(1331),B=D.a.SubMenu,Y=(D.a.ItemGroup,function(){var e=Object(j.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(j.useState)([0,0]),r=Object(i.a)(s,2),l=r[0],u=r[1],d=Object(j.useState)(!1),b=Object(i.a)(d,2),O=b[0],m=b[1],p=Object(j.useState)(!1),f=Object(i.a)(p,2),x=f[0],v=f[1],g=Object(j.useState)([]),y=Object(i.a)(g,2),S=y[0],k=y[1],E=Object(j.useState)([]),_=Object(i.a)(E,2),Y=_[0],H=_[1],G=Object(j.useState)([]),Q=Object(i.a)(G,2),W=Q[0],M=Q[1],q=Object(j.useState)([]),K=Object(i.a)(q,2),V=(K[0],K[1]),$=Object(j.useState)(""),J=Object(i.a)($,2),z=(J[0],J[1]),X=Object(j.useState)(["Apple","Lenovo","Samsung","Microsoft","ASUS","MSI","HP","Acer"]),Z=Object(i.a)(X,2),ee=Z[0],te=(Z[1],Object(j.useState)("")),ce=Object(i.a)(te,2),ne=ce[0],ae=ce[1],se=Object(j.useState)(["Black","Brown","Silver","Blue","White"]),re=Object(i.a)(se,2),oe=re[0],ie=(re[1],Object(j.useState)("")),je=Object(i.a)(ie,2),le=je[0],ue=je[1],de=Object(j.useState)(["Yes","No"]),be=Object(i.a)(de,2),Oe=be[0],he=(be[1],Object(j.useState)("")),me=Object(i.a)(he,2),pe=me[0],fe=me[1],xe=Object(h.b)(),ve=Object(h.c)((function(e){return Object(o.a)({},e)})).search.text;Object(j.useEffect)((function(){ge(10),Object(C.b)().then((function(e){k(e.data)})),Object(P.b)().then((function(e){M(e.data)}))}),[]);var ge=function(e){m(!0),Object(w.e)(e).then((function(e){m(!1),a(e.data)})).catch((function(e){m(!1),console.log(e)}))},Ne=function(e){m(!0),Object(w.h)(e).then((function(e){a(e.data),m(!1)}))};Object(j.useEffect)((function(){var e=setTimeout((function(){Ne({query:ve}),ve||ge()}),300);return function(){return clearTimeout(e)}}),[ve]),Object(j.useEffect)((function(){Ne({price:l})}),[x]);var ye=function(e){xe({type:"SEARCH_QUERY",payload:{text:""}}),u([0,0]),z(""),V([]),ae(""),ue(""),fe("");var t=Object(A.a)(Y),c=e.target.value,n=t.indexOf(c);-1===n?t.push(c):t.splice(n,1),H(t),Ne({category:t})},Se=function(e){xe({type:"SEARCH_QUERY",payload:{text:""}}),u([0,0]),H([]),V([]),ae(""),ue(""),fe(""),z(e),Ne({stars:e})},we=function(e){xe({type:"SEARCH_QUERY",payload:{text:""}}),u([0,0]),H([]),z(""),ae(""),ue(""),fe(""),V(e),Ne({subcategory:e})},ke=function(e){xe({type:"SEARCH_QUERY",payload:{text:""}}),u([0,0]),H([]),V([]),z(""),ue(""),fe(""),ae(e.target.value),Ne({brand:e.target.value})},Ce=function(e){xe({type:"SEARCH_QUERY",payload:{text:""}}),u([0,0]),H([]),V([]),z(""),fe(""),ue(e.target.value),Ne({color:e.target.value})},Ee=function(e){xe({type:"SEARCH_QUERY",payload:{text:""}}),u([0,0]),H([]),V([]),z(""),ue(""),fe(e.target.value),Ne({shipping:e.target.value})};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-md-3 pt-2",children:[Object(n.jsx)("h4",{children:"Search/Filter"}),Object(n.jsx)("hr",{}),Object(n.jsxs)(D.a,{mode:"inline",defaultOpenKeys:["1","2","3","4","5","6","7"],children:[Object(n.jsx)(B,{title:Object(n.jsxs)("span",{className:"h6",children:[Object(n.jsx)(I.a,{}),"Price"]}),children:Object(n.jsx)("div",{children:Object(n.jsx)(U.a,{className:"ml-4 mr-4",tipFormatter:function(e){return"$".concat(e)},range:!0,value:l,onChange:function(e){xe({type:"SEARCH_QUERY",payload:{text:""}}),H([]),z(""),V([]),ae(""),ue(""),fe(""),u(e),setTimeout((function(){v(!x)}),300)},max:"4999"})})},"1"),Object(n.jsx)(B,{title:Object(n.jsxs)("span",{className:"h6",children:[Object(n.jsx)(F.a,{}),"Categories"]}),children:Object(n.jsx)("div",{style:{marginTop:"-10px"},children:S.map((function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)(R.a,{onChange:ye,className:"pb-2 pl-4 pr-4",value:e._id,name:"category",checked:Y.includes(e._id),children:e.name}),Object(n.jsx)("br",{})]},e._id)}))})},"2"),Object(n.jsx)(B,{title:Object(n.jsxs)("span",{className:"h6",children:[Object(n.jsx)(T.a,{}),"Rating"]}),children:Object(n.jsx)("div",{style:{marginTop:"-10px"},children:Object(n.jsxs)("div",{className:"pr-4 pl-4 pb-2",children:[Object(n.jsx)(N.Star,{starClick:Se,numberOfStars:5}),Object(n.jsx)(N.Star,{starClick:Se,numberOfStars:4}),Object(n.jsx)(N.Star,{starClick:Se,numberOfStars:3}),Object(n.jsx)(N.Star,{starClick:Se,numberOfStars:2}),Object(n.jsx)(N.Star,{starClick:Se,numberOfStars:1})]})})},"3"),Object(n.jsx)(B,{title:Object(n.jsxs)("span",{className:"h6",children:[Object(n.jsx)(F.a,{}),"Sub-Categories"]}),children:Object(n.jsx)("div",{className:"pl-4 pr-4",style:{marginTop:"-10px"},children:W.map((function(e){return Object(n.jsx)("div",{className:"p-1 m-1 badge badge-secondary",onClick:function(){return we(e)},style:{cursor:"pointer"},children:e.name},e._id)}))})},"4"),Object(n.jsx)(B,{title:Object(n.jsxs)("span",{className:"h6",children:[Object(n.jsx)(F.a,{}),"Brands"]}),children:Object(n.jsx)("div",{className:"h6",style:{marginTop:"-10px"},children:ee.map((function(e){return Object(n.jsx)(L.a,{value:e,name:e,checked:e===ne,onChange:ke,className:"pb-2 pl-4 pr-4",children:e},e)}))})},"5"),Object(n.jsx)(B,{title:Object(n.jsxs)("span",{className:"h6",children:[Object(n.jsx)(F.a,{}),"Color"]}),children:Object(n.jsx)("div",{className:"h6",style:{marginTop:"-10px"},children:oe.map((function(e){return Object(n.jsx)(L.a,{value:e,name:e,checked:e===le,onChange:Ce,className:"pb-1 pl-4 pr-4",children:e},e)}))})},"6"),Object(n.jsx)(B,{title:Object(n.jsxs)("span",{className:"h6",children:[Object(n.jsx)(F.a,{}),"Shipping"]}),children:Object(n.jsx)("div",{className:"h6",style:{marginTop:"-10px"},children:Oe.map((function(e){return Object(n.jsx)(L.a,{value:e,name:e,checked:e===pe,onChange:Ee,className:"pb-1 pl-4 pr-4",children:e},e)}))})},"7")]})]}),Object(n.jsxs)("div",{className:"col-md-9 pt-2",children:[O?Object(n.jsx)("h4",{className:"text-danger",children:"Loading..."}):Object(n.jsx)("h4",{className:"text-danger",children:"Products"}),c.length<1&&Object(n.jsx)("p",{children:"No Products Found"}),Object(n.jsx)("div",{className:"row pb-5",children:c.map((function(e){return Object(n.jsx)("div",{className:"col-md-4 mt-3",children:Object(n.jsx)(N.ProductCard,{product:e})},e._id)}))})]})]})})}),H=c(185),G=function(e){var t=e.history,c=Object(h.c)((function(e){return Object(o.a)({},e)})),a=c.cart,s=c.user,r=Object(h.b)(),i=function(e){"cod"===e.target.name&&r({type:"SET_COD",payload:!0}),Object(H.k)(a,s.token).then((function(e){e.data.ok&&t.push("/checkout")})).catch((function(e){console.log("CART SAVE ERROR",e)}))};return Object(n.jsx)("div",{className:"container-fluid pt-2",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-md-8",children:[Object(n.jsxs)("h4",{children:["Cart - ",a.length," Products"]}),a.length?Object(n.jsxs)("table",{className:"table table-bordered",children:[Object(n.jsx)("thead",{className:"thead-light",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Image"}),Object(n.jsx)("th",{scope:"col",children:"Title"}),Object(n.jsx)("th",{scope:"col",children:"Price"}),Object(n.jsx)("th",{scope:"col",children:"Brand"}),Object(n.jsx)("th",{scope:"col",children:"Color"}),Object(n.jsx)("th",{scope:"col",children:"Quantity"}),Object(n.jsx)("th",{scope:"col",children:"Shipping"}),Object(n.jsx)("th",{scope:"col",children:"Remove"})]})}),a.map((function(e){return Object(n.jsx)(N.ProductCardInCheckout,{product:e},e._id)}))]}):Object(n.jsxs)("p",{children:["No products in cart. ",Object(n.jsx)(m.b,{to:"/shop",children:"Continue Shopping!"})]})]}),Object(n.jsxs)("div",{className:"col-md-4",children:[Object(n.jsx)("h4",{children:"Order Summary"}),Object(n.jsx)("hr",{}),Object(n.jsx)("p",{children:"Products"}),a.map((function(e,t){return Object(n.jsx)("div",{children:Object(n.jsxs)("p",{children:[e.title," x ",e.count," = $",e.price*e.count]})},t)})),Object(n.jsx)("hr",{}),"Total: ",Object(n.jsxs)("b",{children:["$",a.reduce((function(e,t){return e+t.count*t.price}),0)]}),Object(n.jsx)("hr",{}),s?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{onClick:i,className:"btn btn-sm btn-primary mt-2",disabled:!a.length,children:"Proceed to Checkout"}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{onClick:i,className:"btn btn-sm btn-primary mt-2",disabled:!a.length,name:"cod",children:"Pay Cash on Delivery"})]}):Object(n.jsx)("button",{className:"btn btn-sm btn-primary mt-2",children:Object(n.jsx)(m.b,{to:{pathname:"/login",state:{from:"/cart"}},children:"Login to Checkout"})})]})]})})},Q=c(1333),W=c(1338),M=c(206),q=function(){var e=Object(h.c)((function(e){return Object(o.a)({},e)})).user,t=Object(j.useState)([]),c=Object(i.a)(t,2),a=c[0],s=c[1];Object(j.useEffect)((function(){r()}),[]);var r=function(){Object(H.g)(e.token).then((function(e){s(e.data),console.log(e.data)}))},l=function(e){return Object(n.jsx)(M.PDFDownloadLink,{document:Object(n.jsx)(N.Invoice,{order:e}),fileName:"invoice.pdf",className:"btn btn-sm btn-block btn-outline-primary",children:"Download PDF"})},u=function(e){return Object(n.jsxs)("table",{className:"table table-bordered",children:[Object(n.jsx)("thead",{className:"thead-light",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Title"}),Object(n.jsx)("th",{scope:"col",children:"Price"}),Object(n.jsx)("th",{scope:"col",children:"Brand"}),Object(n.jsx)("th",{scope:"col",children:"Color"}),Object(n.jsx)("th",{scope:"col",children:"Count"}),Object(n.jsx)("th",{scope:"col",children:"Shipping"})]})}),Object(n.jsx)("tbody",{children:e.products.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("b",{children:e.product.title})}),Object(n.jsxs)("td",{children:[" ",e.product.price]}),Object(n.jsxs)("td",{children:[" ",e.product.brand]}),Object(n.jsxs)("td",{children:[" ",e.color]}),Object(n.jsxs)("td",{children:[" ",e.count]}),Object(n.jsxs)("td",{children:[" ","Yes"===e.product.shipping?Object(n.jsx)(Q.a,{style:{color:"green"}}):Object(n.jsx)(W.a,{style:{color:"red"}})]})]},t)}))})]})};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"colmd-2",children:Object(n.jsx)(N.UserNav,{})}),Object(n.jsxs)("div",{className:"col text-center",children:[a.length>0?Object(n.jsx)("h4",{children:"Previous orders"}):Object(n.jsx)("h4",{children:"No orders yet"}),a.reverse().map((function(e,t){return Object(n.jsxs)("div",{className:"m-5 p-3 card",children:[Object(n.jsx)(N.ShowPaymentInfo,{order:e}),u(e),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col",children:l(e)})})]},t)}))]})]})})},K=function(){var e=Object(j.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],o=Object(j.useState)(!1),d=Object(i.a)(o,2),b=d[0],O=d[1],h=function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O(!0),e.next=4,l.a.currentUser.updatePassword(c).then((function(){O(!1),a(""),u.b.success("Successfully updated password")})).catch((function(e){O(!1),console.log(e),u.b.error(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"colmd-2",children:Object(n.jsx)(N.UserNav,{})}),Object(n.jsxs)("div",{className:"col",children:[b?Object(n.jsx)("h4",{children:"Updating"}):Object(n.jsx)("h4",{children:"Password Update"}),Object(n.jsx)("form",{onSubmit:h,children:Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Your Password"}),Object(n.jsx)("input",{type:"password",onChange:function(e){return a(e.target.value)},className:"form-control",placeholder:"Enter new password",disabled:b,value:c}),Object(n.jsx)("button",{className:"btn btn-primary",disabled:!c||b||c.length<6,children:"Submit"})]})})]})]})})},V=c(1329),$=function(){var e=Object(j.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(j.useState)(!1),r=Object(i.a)(s,2),l=(r[0],r[1]),u=Object(h.c)((function(e){return Object(o.a)({},e)})).user;Object(j.useEffect)((function(){d()}),[]);var d=function(){l(!0),Object(H.h)(u.token).then((function(e){a(e.data[0].wishlist),l(!1)}))};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"colmd-2",children:Object(n.jsx)(N.UserNav,{})}),Object(n.jsxs)("div",{className:"col",children:[Object(n.jsx)("h4",{children:"Wishlist"}),c.map((function(e){return Object(n.jsxs)("div",{className:"alert alert-secondary",children:[Object(n.jsx)(m.b,{to:"/product/".concat(e.slug),children:e.title}),Object(n.jsx)("span",{className:"btn btn-sm float-right",onClick:function(){return t=e._id,void Object(H.i)(t,u.token).then((function(e){d()}));var t},children:Object(n.jsx)(V.a,{})})]},e._id)}))]})]})})},J=c(1139),z=c.n(J),X=(c(1237),function(e){var t=e.history,c=Object(h.b)(),a=Object(j.useState)([]),s=Object(i.a)(a,2),r=s[0],l=s[1],d=Object(j.useState)(0),b=Object(i.a)(d,2),O=b[0],m=b[1],p=Object(j.useState)(0),f=Object(i.a)(p,2),x=f[0],v=f[1],g=Object(j.useState)(""),N=Object(i.a)(g,2),y=N[0],S=N[1],w=Object(j.useState)(""),k=Object(i.a)(w,2),C=k[0],E=k[1],P=Object(j.useState)(!1),_=Object(i.a)(P,2),A=_[0],D=_[1],R=Object(j.useState)(""),L=Object(i.a)(R,2),U=L[0],I=L[1],F=Object(h.c)((function(e){return Object(o.a)({},e)})),T=F.user,B=F.cod,Y=Object(h.c)((function(e){return e.coupon}));Object(j.useEffect)((function(){Object(H.f)(T.token).then((function(e){l(e.data.products),m(e.data.cartTotal)}))}),[]);var G=function(){Object(H.j)(C,T.token).then((function(e){e.data.ok&&(D(!0),u.b.success("Address Saved"))}))},Q=function(){Object(H.b)(U,T.token).then((function(e){console.log("RES ON COUPON APPLIED",e.data),e.data&&(v(e.data),c({type:"COUPON_APPLIED",payload:!0})),e.data.err&&(S(e.data.err),c({type:"COUPON_APPLIED",payload:!1}))}))};return Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("h4",{children:"Delivery Address"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(z.a,{theme:"snow",value:C,onChange:E}),Object(n.jsx)("button",{className:"btn btn-primary mt-2",onClick:G,children:"Save"})]}),Object(n.jsx)("hr",{}),Object(n.jsx)("h4",{children:"Got Coupon?"}),Object(n.jsx)("br",{}),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("input",{onChange:function(e){S(""),I(e.target.value)},type:"text",className:"form-control",value:U}),Object(n.jsx)("button",{onClick:Q,className:"btn btn-primary mt-2",children:"Apply"})]}),Object(n.jsx)("br",{}),y&&Object(n.jsx)("p",{className:"bg-danger p-2",children:y})]}),Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("h4",{children:"Order Summary"}),Object(n.jsx)("hr",{}),Object(n.jsxs)("p",{children:["Products - ",r.length]}),Object(n.jsx)("hr",{}),Object(n.jsx)(n.Fragment,{children:r.map((function(e,t){return Object(n.jsx)("div",{children:Object(n.jsxs)("p",{children:[e.product.title," (",e.color,") x ",e.count," = ",e.product.price]})},t)}))}),Object(n.jsx)("hr",{}),Object(n.jsxs)("p",{children:["Cart Total: $",O]}),x>0&&Object(n.jsxs)("p",{className:"bg-success p-2",children:["Discount Applied: $",x]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-6",children:B?Object(n.jsx)("button",{disabled:!A||!r.length,className:"btn btn-primary",onClick:function(){Object(H.c)(T.token,B,Y).then((function(e){e.data.ok&&("undefined"!==typeof window&&window.localStorage.removeItem("cart"),c({type:"ADD_TO_CART",payload:[]}),c({type:"COUPON_APPLIED",payload:!1}),c({type:"SET_COD",payload:!1}),Object(H.e)(T.token),setTimeout((function(){t.push("/user/history")}),1e3))}))},children:"Place Order"}):Object(n.jsx)("button",{disabled:!A||!r.length,className:"btn btn-primary",onClick:function(){return t.push("/payment")},children:"Place Order"})}),Object(n.jsx)("div",{className:"col-md-6",children:Object(n.jsx)("button",{disabled:!r.length,onClick:function(){"undefined"!==typeof window&&localStorage.removeItem("cart"),c({type:"ADD_TO_CART",payload:[]}),Object(H.e)(T.token).then((function(e){l([]),m(0),u.b.success("Cart is empty. Continue Shopping!")})),v(0),I("")},className:"btn btn-primary",children:"Empty Cart"})})]})]})]})}),Z=c(1238),ee=c(452),te=(c(1239),Object(Z.a)("pk_test_51HQFoOAYsAxKBYNprna363zX7d7I1KpFiyxI5rVIBiWGEfwDLmSPRnErIPcSdrXx0LSf5grYOkckEi9SHWjiRSeQ004Mcf2MJq")),ce=function(){return Object(n.jsxs)("div",{className:"container p-5 text-center",children:[Object(n.jsx)("h4",{children:"Complete your purchase"}),Object(n.jsx)(ee.Elements,{stripe:te,children:Object(n.jsx)("div",{className:"col-md-8 offset-md-2",children:Object(n.jsx)(N.StripeCheckoutComponent,{})})})]})},ne=c(24),ae=c.n(ne),se=function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.get("".concat("https://ecommy-backend.herokuapp.com/api","/admin/orders"),{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(r.a)(s.a.mark((function e(t,c,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.put("".concat("https://ecommy-backend.herokuapp.com/api","/admin/order-status"),{orderId:t,orderStatus:c},{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),oe=function(){var e=Object(j.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(j.useState)(!1),r=Object(i.a)(s,2),l=(r[0],r[1]),d=Object(h.c)((function(e){return Object(o.a)({},e)})).user;Object(j.useEffect)((function(){b()}),[]);var b=function(){l(!0),se(d.token).then((function(e){a(e.data),l(!1)}))};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"colmd-2",children:Object(n.jsx)(N.AdminNav,{})}),Object(n.jsxs)("div",{className:"col",children:[Object(n.jsx)("h4",{children:"Dashboard"}),Object(n.jsx)(N.Orders,{orders:c,handleStatusChange:function(e,t){l(!0),re(e,t,d.token).then((function(e){u.b.success("Order status changed"),l(!1),b()}))}})]})]})})},ie=c(1328),je=function(){var e=Object(j.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],l=Object(j.useState)(!1),d=Object(i.a)(l,2),b=d[0],O=d[1],p=Object(j.useState)([]),f=Object(i.a)(p,2),x=f[0],v=f[1],g=Object(j.useState)(""),y=Object(i.a)(g,2),S=y[0],w=y[1],k=Object(h.c)((function(e){return Object(o.a)({},e)})).user;Object(j.useEffect)((function(){E()}),[]);var E=function(){Object(C.b)().then((function(e){v(e.data)})).catch((function(e){console.log(e)}))},P=function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.confirm("Delete?")&&(O(!0),Object(C.e)(k.token,t).then((function(e){O(!1),u.b.success("".concat(e.data.name," deleted")),E()})).catch((function(e){400===e.response.status&&(O(!1),u.b.error(e.response.data),console.log(e))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=x.filter((function(e){return e.name.toLocaleLowerCase().includes(S)})),A=S?_:x;return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(N.AdminNav,{})}),Object(n.jsxs)("div",{className:"col",children:[b?Object(n.jsx)("h4",{children:"...Loading"}):Object(n.jsx)("h4",{children:"Create Category"}),Object(n.jsx)(N.CategoryForm,{handleSubmit:function(e){e.preventDefault(),O(!0),Object(C.a)(k.token,c).then((function(e){O(!1),a(""),u.b.success('"'.concat(e.data.name,'" is created')),E()})).catch((function(e){O(!1),400===e.response.status&&u.b.error(e.response.data),console.log(e)}))},name:c,setName:a}),Object(n.jsx)(N.LocalSearch,{keyword:S,setKeyword:w}),A.map((function(e){return Object(n.jsxs)("div",{className:"alert alert-secondary",children:[e.name,Object(n.jsx)("span",{onClick:function(){return P(e.slug)},className:"btn btn-small float-right",children:Object(n.jsx)(V.a,{className:"text-danger"})}),Object(n.jsx)(m.b,{to:"/admin/category/".concat(e.slug),children:Object(n.jsx)("span",{className:"btn btn-small float-right",children:Object(n.jsx)(ie.a,{className:"text-warning"})})})]},e._id)}))]})]})})},le=function(e){var t=e.history,c=Object(S.g)().slug,a=Object(j.useState)(""),s=Object(i.a)(a,2),r=s[0],l=s[1],d=Object(j.useState)(!1),b=Object(i.a)(d,2),O=b[0],m=b[1],p=Object(h.c)((function(e){return Object(o.a)({},e)})).user;Object(j.useEffect)((function(){f()}),[]);var f=function(){Object(C.c)(c).then((function(e){l(e.data.name)}))};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"colmd-2",children:Object(n.jsx)(N.AdminNav,{})}),Object(n.jsxs)("div",{className:"col",children:[O?Object(n.jsx)("h4",{children:"...Loading"}):Object(n.jsx)("h4",{children:"Update Category"}),Object(n.jsx)(N.CategoryForm,{handleSubmit:function(e){e.preventDefault(),m(!0),Object(C.f)(p.token,c,{name:r}).then((function(e){m(!1),u.b.success('"'.concat(e.data.name,'" is updated')),t.push("/admin/category")})).catch((function(e){m(!1),400===e.response.status&&u.b.error(e.response.data),console.log(e)}))},name:r,setName:l})]})]})})},ue=function(){var e=Object(j.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],l=Object(j.useState)(!1),d=Object(i.a)(l,2),b=d[0],O=d[1],p=Object(j.useState)([]),f=Object(i.a)(p,2),x=f[0],v=f[1],g=Object(j.useState)([]),y=Object(i.a)(g,2),S=y[0],w=y[1],k=Object(j.useState)(""),E=Object(i.a)(k,2),_=E[0],A=E[1],D=Object(j.useState)([]),R=Object(i.a)(D,2),L=R[0],U=R[1],I=Object(h.c)((function(e){return Object(o.a)({},e)})).user;Object(j.useEffect)((function(){F(),T()}),[]);var F=function(){Object(C.b)().then((function(e){v(e.data)})).catch((function(e){console.log(e)}))},T=function(){Object(P.b)().then((function(e){U(e.data)})).catch((function(e){console.log(e)}))},B=function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.confirm("Delete?")&&(O(!0),Object(P.d)(I.token,t).then((function(e){O(!1),u.b.success("".concat(e.data.name," deleted")),T()})).catch((function(e){400===e.response.status&&(O(!1),u.b.error(e.response.data),console.log(e))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=L.filter((function(e){return e.name.toLocaleLowerCase().includes(_)})),H=_?Y:L;return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"colmd-2",children:Object(n.jsx)(N.AdminNav,{})}),Object(n.jsxs)("div",{className:"col",children:[b?Object(n.jsx)("h4",{children:"...Loading"}):Object(n.jsx)("h4",{children:"Create Sub Category"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Category"}),Object(n.jsxs)("select",{name:"category",className:"form-control",onChange:function(e){return w(e.target.value)},children:[Object(n.jsx)("option",{children:"Select Category"}),x.length&&x.map((function(e){return Object(n.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(n.jsx)(N.CategoryForm,{handleSubmit:function(e){e.preventDefault(),O(!0),Object(P.a)(I.token,c,S).then((function(e){O(!1),a(""),u.b.success('"'.concat(e.data.name,'" is created')),T()})).catch((function(e){O(!1),400===e.response.status&&u.b.error(e.response.data),console.log(e)}))},name:c,setName:a}),Object(n.jsx)(N.LocalSearch,{keyword:_,setKeyword:A}),H.map((function(e){return Object(n.jsxs)("div",{className:"alert alert-secondary",children:[e.name,Object(n.jsx)("span",{onClick:function(){return B(e.slug)},className:"btn btn-small float-right",children:Object(n.jsx)(V.a,{className:"text-danger"})}),Object(n.jsx)(m.b,{to:"/admin/subcategory/".concat(e.slug),children:Object(n.jsx)("span",{className:"btn btn-small float-right",children:Object(n.jsx)(ie.a,{className:"text-warning"})})})]},e._id)}))]})]})})},de=function(e){var t=e.history,c=Object(S.g)().slug,a=Object(j.useState)(""),s=Object(i.a)(a,2),r=s[0],l=s[1],d=Object(j.useState)([]),b=Object(i.a)(d,2),O=b[0],m=b[1],p=Object(j.useState)([]),f=Object(i.a)(p,2),x=f[0],v=f[1],g=Object(j.useState)(!1),y=Object(i.a)(g,2),w=y[0],k=y[1],E=Object(h.c)((function(e){return Object(o.a)({},e)})).user;Object(j.useEffect)((function(){_(),A()}),[]);var _=function(){Object(C.b)().then((function(e){m(e.data)})).catch((function(e){console.log(e)}))},A=function(){Object(P.c)(c).then((function(e){l(e.data.name),v(e.data.parent)}))};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"colmd-2",children:Object(n.jsx)(N.AdminNav,{})}),Object(n.jsxs)("div",{className:"col",children:[w?Object(n.jsx)("h4",{children:"...Loading"}):Object(n.jsx)("h4",{children:"Update Sub Category"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Category"}),Object(n.jsx)("select",{name:"category",className:"form-control",onChange:function(e){return v(e.target.value)},value:x,children:O.length&&O.map((function(e){return Object(n.jsx)("option",{value:e._id,children:e.name},e._id)}))})]}),Object(n.jsx)(N.CategoryForm,{handleSubmit:function(e){e.preventDefault(),k(!0),Object(P.e)(E.token,c,r,x).then((function(e){k(!1),u.b.success('"'.concat(e.data.name,'" is updated')),t.push("/admin/subcategory")})).catch((function(e){k(!1),400===e.response.status&&u.b.error(e.response.data),console.log(e)}))},name:r,setName:l})]})]})})},be=c(44),Oe=c(97),he={title:"",description:"",price:"",categories:[],category:"",subcategories:[],shipping:"",quantity:"",images:[],colors:["Black","Brown","Silver","Blue","White"],brands:["Apple","Lenovo","Samsung","Microsoft","ASUS","MSI","HP","Acer"],color:"",brand:""},me=function(e){var t=e.history,c=Object(j.useState)(he),a=Object(i.a)(c,2),s=a[0],r=a[1],l=Object(j.useState)([]),d=Object(i.a)(l,2),b=d[0],O=d[1],m=Object(j.useState)(!1),p=Object(i.a)(m,2),f=p[0],x=p[1],v=Object(j.useState)(!1),g=Object(i.a)(v,2),y=g[0],S=g[1],k=Object(h.c)((function(e){return Object(o.a)({},e)})).user;Object(j.useEffect)((function(){E()}),[]);var E=function(){Object(C.b)().then((function(e){r(Object(o.a)(Object(o.a)({},s),{},{categories:e.data}))}))};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"colmd-2",children:Object(n.jsx)(N.AdminNav,{})}),Object(n.jsxs)("div",{className:"col-md-10",children:[y?Object(n.jsx)(Oe.a,{className:"text-danger h1"}):Object(n.jsx)("h4",{children:"Create Product"}),Object(n.jsx)("hr",{}),Object(n.jsx)("div",{className:"p-3",children:Object(n.jsx)(N.FileUpload,{values:s,setValues:r,setLoading:S})}),Object(n.jsx)(N.ProductCreateForm,{handleSubmit:function(e){e.preventDefault(),Object(w.a)(k.token,Object(o.a)({},s)).then((function(e){u.b.success('"'.concat(e.data.title,'" is created')),t.push("/admin/products")})).catch((function(e){u.b.error(e.response.data.err),console.log(e)}))},handleChange:function(e){e.preventDefault(),r(Object(o.a)(Object(o.a)({},s),{},Object(be.a)({},e.target.name,e.target.value)))},handleCatChange:function(e){e.preventDefault(),r(Object(o.a)(Object(o.a)({},s),{},{subcategories:[],category:e.target.value})),x(!0),Object(C.d)(e.target.value).then((function(e){O(e.data)}))},values:s,subOptions:b,handleSetSubs:function(e){r(Object(o.a)(Object(o.a)({},s),{},{subcategories:e}))},showSub:f})]})]})})},pe=function(){var e=Object(j.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(j.useState)(!1),r=Object(i.a)(s,2),l=r[0],d=r[1],b=Object(h.c)((function(e){return Object(o.a)({},e)})).user;Object(j.useEffect)((function(){O()}),[]);var O=function(){d(!0),Object(w.e)(100).then((function(e){d(!1),a(e.data)})).catch((function(e){d(!1),console.log(e)}))},m=function(e){window.confirm("Delete?")&&Object(w.b)(b.token,e).then((function(e){O(),u.b.error("".concat(e.data.title," is deleted"))})).catch((function(e){console.log(e),400===e.status.code&&u.b.error(e.response.data)}))};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"colmd-2",children:Object(n.jsx)(N.AdminNav,{})}),Object(n.jsxs)("div",{className:"col",children:[l?Object(n.jsx)("h4",{children:"Loading..."}):Object(n.jsx)("h4",{children:"All Products"}),Object(n.jsx)("div",{className:"row",children:c.map((function(e){return Object(n.jsx)("div",{className:"col-md-4 pb-3",children:Object(n.jsx)(N.AdminProductCard,{product:e,handleRemove:m})},e._id)}))})]})]})})},fe={title:"",description:"",price:"",category:"",shipping:"",quantity:"",images:[],colors:["Black","Brown","Silver","Blue","White"],brands:["Apple","Lenovo","Samsung","Microsoft","ASUS"],color:"",brand:""},xe=function(e){var t=e.history,c=Object(S.g)().slug,a=Object(j.useState)(fe),s=Object(i.a)(a,2),r=s[0],l=s[1],d=Object(j.useState)([]),b=Object(i.a)(d,2),O=b[0],m=b[1],p=Object(j.useState)([]),f=Object(i.a)(p,2),x=f[0],v=f[1],g=Object(j.useState)([]),y=Object(i.a)(g,2),k=y[0],E=y[1],P=Object(j.useState)(!1),_=Object(i.a)(P,2),A=_[0],D=_[1],R=Object(j.useState)(""),L=Object(i.a)(R,2),U=L[0],I=L[1],F=Object(h.c)((function(e){return Object(o.a)({},e)})).user;Object(j.useEffect)((function(){B(),T()}),[]);var T=function(){Object(C.b)().then((function(e){m(e.data)}))},B=function(){D(!0),Object(w.c)(c).then((function(e){D(!1),l(Object(o.a)(Object(o.a)({},r),e.data)),Object(C.d)(e.data.category._id).then((function(e){v(e.data)}));var t=[];e.data.subcategories.map((function(e){t.push(e._id)})),E((function(e){return t}))})).catch((function(e){D(!1),console.log(e)}))};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"colmd-2",children:Object(n.jsx)(N.AdminNav,{})}),Object(n.jsxs)("div",{className:"col-md-10",children:[A?Object(n.jsx)(Oe.a,{className:"text-danger h1"}):Object(n.jsx)("h4",{children:"Update Product"}),Object(n.jsx)("hr",{}),r&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"p-3",children:Object(n.jsx)(N.FileUpload,{values:r,setValues:l,setLoading:D})}),Object(n.jsx)(N.ProductUpdateForm,{handleSubmit:function(e){e.preventDefault(),D(!0),r.subcategories=k,r.category=U||r.category,Object(w.i)(F.token,c,r).then((function(e){D(!1),u.b.success("".concat(e.data.title," is updated")),t.push("/admin/products")})).catch((function(e){console.log(e),D(!1),u.b.error(e.response.data.err)}))},handleChange:function(e){e.preventDefault(),l(Object(o.a)(Object(o.a)({},r),{},Object(be.a)({},e.target.name,e.target.value)))},handleCatChange:function(e){e.preventDefault(),l(Object(o.a)(Object(o.a)({},r),{},{subcategories:[]})),I(e.target.value),Object(C.d)(e.target.value).then((function(e){v(e.data)})),r.category._id===e.target.value&&B(),E([])},values:r,subOptions:x,handleSetSubs:function(){},categories:O,arrayOfSubIds:k,setArrayOfSubIds:E,selectedCategory:U})]})]})]})})},ve=function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.get("".concat("https://ecommy-backend.herokuapp.com/api","/coupons"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(r.a)(s.a.mark((function e(t,c){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.delete("".concat("https://ecommy-backend.herokuapp.com/api","/coupon/").concat(t),{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(r.a)(s.a.mark((function e(t,c){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.post("".concat("https://ecommy-backend.herokuapp.com/api","/coupon"),t,{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),ye=c(1241),Se=c.n(ye),we=(c(1240),function(){var e=Object(j.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(j.useState)(""),r=Object(i.a)(s,2),l=r[0],d=r[1],b=Object(j.useState)(""),O=Object(i.a)(b,2),m=O[0],p=O[1],f=Object(j.useState)(""),x=Object(i.a)(f,2),v=x[0],g=x[1],y=Object(j.useState)([]),S=Object(i.a)(y,2),w=S[0],k=S[1],C=Object(h.c)((function(e){return Object(o.a)({},e)})).user;Object(j.useEffect)((function(){E()}),[]);var E=function(){ve().then((function(e){k(e.data)}))};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(N.AdminNav,{})}),Object(n.jsxs)("div",{className:"col-md-10",children:[v?Object(n.jsx)("h4",{className:"text-danger",children:"Loading..."}):Object(n.jsx)("h4",{children:"Coupon"}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g(!0),Ne({name:c,expiry:l,discount:m},C.token).then((function(e){g(!1),a(""),p(""),d(""),u.b.success("".concat(e.data.name," is created")),E()})).catch((function(e){console.log("CREATE COUPON ERROR",e)}))},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Name"}),Object(n.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return a(e.target.value)},value:c,autoFocus:!0,required:!0})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Discount %"}),Object(n.jsx)("input",{type:"text",className:"form-control",value:m,onChange:function(e){return p(e.target.value)},required:!0})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Expiry"}),Object(n.jsx)("br",{}),Object(n.jsx)(Se.a,{className:"form-control",selected:new Date,value:l,required:!0,onChange:function(e){return d(e)}})]}),Object(n.jsx)("button",{className:"btn btn-outline-primary",children:"Save"})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("h4",{children:[w.length," Coupons"]}),Object(n.jsxs)("table",{className:"table table-bordered",children:[Object(n.jsx)("thead",{className:"thead-light",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Name"}),Object(n.jsx)("th",{scope:"col",children:"Expiry"}),Object(n.jsx)("th",{scope:"col",children:"Discount"}),Object(n.jsx)("th",{scope:"col",children:"Action"})]})}),Object(n.jsx)("tbody",{children:w.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.name}),Object(n.jsx)("td",{children:new Date(e.expiry).toLocaleDateString()}),Object(n.jsx)("td",{children:e.discount}),Object(n.jsx)("td",{children:Object(n.jsx)(V.a,{className:"text-danger pointer",onClick:function(){return t=e._id,void(window.confirm("Delete?")&&(g(!0),ge(t,C.token).then((function(e){g(!1),E(),u.b.error("".concat(e.data.name," Deleted"))}))));var t}})})]},e._id)}))})]})]})]})})})}}]);
//# sourceMappingURL=6.375d8fb8.chunk.js.map
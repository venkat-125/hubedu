{"version":3,"sources":["views/auth/Login.js","views/auth/Register.js","views/auth/RegisterComplete.js","views/auth/ForgotPassword.js","views/Home.js","views/Product.js","views/category/CategoryHome.js","views/subcategory/SubcategoryHome.js","views/Shop.js","views/Cart.js","views/user/History.js","views/user/Password.js","views/user/Wishlist.js","views/Checkout.js","views/Payment.js","api/admin.js","views/admin/AdminDashboard.js","views/admin/category/CategoryCreate.js","views/admin/category/CategoryUpdate.js","views/admin/subcategory/SubcategoryCreate.js","views/admin/subcategory/SubcategoryUpdate.js","views/admin/product/ProductCreate.js","views/admin/product/AllProducts.js","views/admin/product/ProductUpdate.js","api/coupon.js","views/admin/coupons/CreateCoupon.js"],"names":["Login","history","dispatch","useDispatch","useState","email","setEmail","password","setPassword","loading","setLoading","user","useSelector","state","useEffect","location","token","push","roleBasedRedirect","res","intended","from","data","role","handleEmailChange","e","target","value","handleSubmit","a","preventDefault","auth","signInWithEmailAndPassword","result","getIdTokenResult","idTokenResult","createOrUpdateUser","then","type","payload","name","_id","catch","err","console","log","toast","error","message","handleGoogleLogin","signInWithPopup","googleAuthProvider","handlePassword","className","onSubmit","onChange","placeholder","autoFocus","onClick","block","shape","icon","MailOutlined","size","disabled","length","GoogleOutlined","to","Register","config","url","process","handleCodeInApp","sendSignInLinkToEmail","success","window","localStorage","setItem","RegisterComplete","getItem","href","signInWithEmailLink","emailVerified","removeItem","currentUser","updatePassword","ForgotPassword","sendPasswordResetEmail","Home","text","Product","product","setProduct","relatedProducts","setRelatedProducts","star","setStar","slug","useParams","loadSingleProduct","ratings","existingRatingObject","find","ele","postedBy","toString","getProduct","listRelated","handleChangeRating","newRating","updateProductRating","map","relProd","CategoryHome","category","setCategory","products","setProducts","getCategory","p","SubcategoryHome","subcategory","setSubcategory","getSubcategory","SubMenu","Menu","Shop","ItemGroup","price","setPrice","ok","setOk","categories","setCategories","checkedCategories","setCheckedCategories","subCategories","setSubCategories","setCheckedSubCategories","brands","clickedBrand","setClickedBrand","colors","checkedColor","setCheckedColor","shipping","checkedShipping","setCheckedShipping","search","loadAllProducts","getCategories","getSubcategories","count","getProductsByCount","fetchProductsByFilter","arg","searchFilter","delay","setTimeout","query","clearTimeout","handleCheck","inTheState","justChecked","foundInTheState","indexOf","splice","handleStarClick","num","stars","handleSubCatSubmit","s","handleBrandSubmit","brand","handleColorSubmit","color","handleShippingSubmit","mode","defaultOpenKeys","title","DollarOutlined","tipFormatter","val","range","max","DownSquareOutlined","style","marginTop","c","checked","includes","StarOutlined","starClick","numberOfStars","cursor","br","Cart","cart","saveOrderToDb","userCart","scope","i","reduce","currVal","nextVal","pathname","History","orders","setOrders","loadUserOrders","getUserOrders","showDownloadLink","order","document","fileName","showOrderInTable","CheckCircleOutlined","CloseCircleOutlined","reverse","o","Password","Wishlist","UserWishlist","setUserWishlist","loadAllWishlist","getWishlist","wishlist","productId","removeWishlist","DeleteOutlined","Checkout","total","setTotal","discountTotal","setDiscountTotal","discountError","setDiscountError","address","setAddress","addressSaved","setAddressSaved","coupon","setCoupon","cod","couponTrueOrFalse","getUserCart","cartTotal","saveAddressToDb","saveUserAddress","handleApplyCoupon","applyCoupon","theme","createCodOrder","emptyCart","promise","loadStripe","Payment","stripe","getAllOrders","authtoken","axios","get","headers","updateOrderStatus","orderId","orderStatus","put","AdminDashboard","loadAllOrders","handleStatusChange","CategoryCreate","setName","keyword","setKeyword","loadCategories","handleDeleteCategory","confirm","removeCategory","response","status","filteredItems","filter","item","toLocaleLowerCase","categoriesToDisplay","createCategory","EditOutlined","CategoryUpdate","loadCategory","updateCategory","SubcategoryCreate","subcategories","setSubcategories","loadSubcategories","handleDeleteSubcategory","removeSubcategory","subcategoriesToDisplay","createSubcategory","SubcategoryUpdate","loadSubcategory","parent","updateSubcategory","initialState","description","quantity","images","ProductCreate","values","setValues","subOptions","setSubOptions","showSub","setShowSub","LoadingOutlined","createProduct","handleChange","handleCatChange","getCategorySubs","handleSetSubs","AllProducts","handleRemove","deleteProduct","code","ProductUpdate","arrayOfSubIds","setArrayOfSubIds","selectedCategory","setSelectedCategory","loadProduct","r","arr","prev","updateProduct","getCoupons","removeCoupon","couponId","delete","createCoupon","post","CreateCoupon","expiry","setExpiry","discount","setDiscount","coupons","setCoupons","loadAllCoupons","required","selected","Date","date","toLocaleDateString","id"],"mappings":"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","file":"static/js/6.375d8fb8.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { auth, googleAuthProvider } from \"../../firebase\";\nimport { toast } from \"react-toastify\";\nimport { Button } from \"antd\";\nimport { MailOutlined, GoogleOutlined } from \"@ant-design/icons\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { createOrUpdateUser } from \"../../api/auth\";\n\nconst Login = ({ history }) => {\n  const dispatch = useDispatch();\n  const [email, setEmail] = useState(\"dpac9525@gmail.com\");\n  const [password, setPassword] = useState(\"abcd1234\");\n  const [loading, setLoading] = useState(false);\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    // Intended (Re-direct back to page from where login was requested)\n    const intended = history.location.state;\n\n    if (intended) {\n      return;\n    } else {\n      if (user && user.token) {\n        history.push(\"/\");\n      }\n    }\n  }, [history, user]);\n\n  const roleBasedRedirect = (res) => {\n    // Intended (Re-direct back to page from where login was requested)\n    const intended = history.location.state;\n\n    if (intended) {\n      history.push(intended.from);\n    } else {\n      if (res.data.role === \"admin\") {\n        history.push(\"/admin/dashboard\");\n      } else {\n        history.push(\"/user/history\");\n      }\n    }\n  };\n\n  const handleEmailChange = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const result = await auth.signInWithEmailAndPassword(email, password);\n\n      const { user } = result;\n      const idTokenResult = await user.getIdTokenResult();\n\n      createOrUpdateUser(idTokenResult.token)\n        .then((res) => {\n          dispatch({\n            type: \"LOGGED_IN_USER\",\n            payload: {\n              name: res.data.name,\n              email: res.data.email,\n              role: res.data.role,\n              token: idTokenResult.token,\n              _id: res.data._id,\n            },\n          });\n          roleBasedRedirect(res);\n        })\n        .catch((err) => console.log(err));\n    } catch (error) {\n      toast.error(error.message);\n      console.log(error);\n      setLoading(false);\n    }\n  };\n\n  const handleGoogleLogin = async () => {\n    auth\n      .signInWithPopup(googleAuthProvider)\n      .then(async (result) => {\n        const { user } = result;\n        const idTokenResult = await user.getIdTokenResult();\n\n        createOrUpdateUser(idTokenResult.token)\n          .then((res) => {\n            dispatch({\n              type: \"LOGGED_IN_USER\",\n              payload: {\n                name: res.data.name,\n                email: res.data.email,\n                role: res.data.role,\n                token: idTokenResult.token,\n                _id: res.data._id,\n              },\n            });\n            roleBasedRedirect(res);\n          })\n          .catch((err) => console.log(err));\n      })\n      .catch((error) => {\n        console.log(error);\n        toast.error(error.message);\n      });\n  };\n\n  const handlePassword = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const loginForm = () => {\n    return (\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <input\n            type=\"email\"\n            className=\"form-control\"\n            value={email}\n            onChange={handleEmailChange}\n            placeholder=\"Your email\"\n            autoFocus\n          />\n        </div>\n        <div className=\"form-group\">\n          <input\n            type=\"password\"\n            className=\"form-control\"\n            value={password}\n            onChange={handlePassword}\n            autoFocus\n            placeholder=\"Your Password\"\n          />\n        </div>\n        <br />\n\n        <Button\n          onClick={handleSubmit}\n          type=\"primary\"\n          className=\"mb-3\"\n          block\n          shape=\"round\"\n          icon={<MailOutlined />}\n          size=\"large\"\n          disabled={!email || password.length < 6}\n        >\n          Login with Email/Password\n        </Button>\n        <Button\n          onClick={handleGoogleLogin}\n          type=\"danger\"\n          className=\"mb-3\"\n          block\n          shape=\"round\"\n          icon={<GoogleOutlined />}\n          size=\"large\"\n        >\n          Login with Google\n        </Button>\n        <Link to=\"/forgot/password\" className=\"float-right\">\n          Forgot password\n        </Link>\n      </form>\n    );\n  };\n\n  return (\n    <div className=\"container p-5\">\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-md-3\">\n          {loading ? <h4>Loading...</h4> : <h4>Login</h4>}\n\n          {loginForm()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useState, useEffect } from \"react\";\nimport { auth } from \"../../firebase\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\n\nconst Register = ({ history }) => {\n  const [email, setEmail] = useState(\"\");\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    if (user && user.token) {\n      history.push(\"/\");\n    }\n  }, [history, user]);\n\n  const handleEmailChange = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const config = {\n      url: process.env.REACT_APP_REGISTER_REDIRECT_URL,\n      handleCodeInApp: true,\n    };\n\n    await auth.sendSignInLinkToEmail(email, config);\n    toast.success(\n      `Email is sent to ${email}, Click the link to complete your registration`\n    );\n\n    // Save email to local storage\n    window.localStorage.setItem(\"emailForRegistration\", email);\n\n    // Clear email state\n    setEmail(\"\");\n  };\n\n  const registerForm = () => {\n    return (\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"email\"\n          className=\"form-control\"\n          value={email}\n          onChange={handleEmailChange}\n          placeholder=\"Your email\"\n          autoFocus\n        />\n        <br />\n\n        <button type=\"submit\" className=\"btn btn-raised\">\n          Register\n        </button>\n      </form>\n    );\n  };\n\n  return (\n    <div className=\"container p-5\">\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-md-3\">\n          <h4>Register</h4>\n          {registerForm()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n","import React, { useState, useEffect } from \"react\";\nimport { auth } from \"../../firebase\";\nimport { toast } from \"react-toastify\";\nimport { useDispatch } from \"react-redux\";\nimport { createOrUpdateUser } from \"../../api/auth\";\n\nconst RegisterComplete = ({ history }) => {\n  const dispatch = useDispatch();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  useEffect(() => {\n    setEmail(window.localStorage.getItem(\"emailForRegistration\"));\n    console.log(window.location.href);\n  }, []);\n\n  const handlePassword = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    // validate email and password\n    if (!email || !password) {\n      toast.error(\"Please enter a valid email or password\");\n      return;\n    }\n\n    // validate password length\n    if (password.length < 6) {\n      toast.error(\"Password must be greater than 6 characters\");\n      return;\n    }\n\n    try {\n      const result = await auth.signInWithEmailLink(\n        email,\n        window.location.href\n      );\n      // If the user has verified their email\n      if (result.user.emailVerified) {\n        // remove user email from local storage\n        window.localStorage.removeItem(\"emailForRegistration\");\n\n        // get user ID token as JWT\n        let user = auth.currentUser;\n\n        // update this users password\n        user.updatePassword(password);\n        const idTokenResult = await user.getIdTokenResult();\n\n        // redux store dispatch\n        createOrUpdateUser(idTokenResult.token)\n          .then((res) => {\n            dispatch({\n              type: \"LOGGED_IN_USER\",\n              payload: {\n                name: res.data.name,\n                email: res.data.email,\n                role: res.data.role,\n                token: idTokenResult.token,\n                _id: res.data._id,\n              },\n            });\n          })\n          .catch((err) => console.log(err));\n\n        // redirect\n        history.push(\"/\");\n      }\n    } catch (error) {\n      console.log(error);\n      toast.error(error.message);\n    }\n  };\n\n  const completeRegistrationForm = () => {\n    return (\n      <form onSubmit={handleSubmit}>\n        <input type=\"email\" className=\"form-control\" value={email} disabled />\n        <input\n          type=\"password\"\n          className=\"form-control\"\n          value={password}\n          onChange={handlePassword}\n          autoFocus\n          placeholder=\"Enter Password\"\n        />\n        <br />\n        <button type=\"submit\" className=\"btn btn-raised\">\n          Complete Registration\n        </button>\n      </form>\n    );\n  };\n\n  return (\n    <div className=\"container p-5\">\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-md-3\">\n          <h4>Register Complete</h4>\n          {completeRegistrationForm()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default RegisterComplete;\n","import React, { useState, useEffect } from \"react\";\nimport { auth } from \"../../firebase\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\n\nconst ForgotPassword = ({ history }) => {\n  const [email, setEmail] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    if (user && user.token) {\n      history.push(\"/\");\n    }\n  }, [history, user]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    const config = {\n      url: process.env.REACT_APP_PASSWORD_RESET_REDIRECT_URL,\n      handleCodeInApp: true,\n    };\n\n    await auth\n      .sendPasswordResetEmail(email, config)\n      .then(() => {\n        setEmail(\"\");\n        setLoading(false);\n        toast.success(\n          `Email is sent to ${email}, Click the link to reset password`\n        );\n      })\n\n      .catch((error) => {\n        console.log(error);\n        setLoading(false);\n        toast.error(error.message);\n      });\n  };\n\n  return (\n    <div className=\"container col-md-6 offset-md-3 p-5\">\n      {!loading ? <h4>Forgot Password</h4> : <h4>...Loading</h4>}\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"email\"\n          className=\"form-control\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          placeholder=\"Your email\"\n          autoFocus\n        />\n        <br />\n        <button className=\"btn btn-raised\" type=\"submit\" disabled={!email}>\n          Send Link\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default ForgotPassword;\n","import React from \"react\";\nimport {\n  Jumbotron,\n  NewArrivals,\n  BestSellers,\n  CategoryList,\n  SubcategoryList,\n} from \"../components\";\n\nconst Home = () => {\n  return (\n    <>\n      <div className=\"jumbotron text-danger display-2 font-weight-bold text-center\">\n        <Jumbotron text={[\"Latest Products\", \"New Arrivals\", \"Best Sellers\"]} />\n      </div>\n\n      <h4 className=\"text-center p-3 mt-5 mb-5 display-4 jumbotron\">\n        New Arrivals\n      </h4>\n\n      <NewArrivals />\n\n      <br />\n      <br />\n\n      <h4 className=\"text-center p-3 mt-5 mb-5 display-4 jumbotron\">\n        Best Sellers\n      </h4>\n\n      <BestSellers />\n\n      <br />\n      <br />\n\n      <h4 className=\"text-center p-3 mt-5 mb-5 display-4 jumbotron\">\n        Categories\n      </h4>\n\n      <CategoryList />\n\n      <br />\n      <br />\n\n      <h4 className=\"text-center p-3 mt-5 mb-5 display-4 jumbotron\">\n        Sub-Categories\n      </h4>\n\n      <SubcategoryList />\n    </>\n  );\n};\n\nexport default Home;\n","import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { getProduct, updateProductRating, listRelated } from \"../api/product\";\nimport { SingleProduct, ProductCard } from \"../components\";\nimport { useSelector } from \"react-redux\";\n\nconst Product = () => {\n  const [product, setProduct] = useState(\"\");\n  const [relatedProducts, setRelatedProducts] = useState([]);\n  const [star, setStar] = useState(0);\n  const { slug } = useParams();\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadSingleProduct();\n  }, [slug]);\n\n  useEffect(() => {\n    if (product.ratings && user) {\n      let existingRatingObject = product.ratings.find(\n        (ele) => ele.postedBy.toString() === user._id.toString()\n      );\n      existingRatingObject && setStar(existingRatingObject.star);\n    }\n  });\n\n  const loadSingleProduct = () => {\n    getProduct(slug).then((res) => {\n      setProduct(res.data);\n      // Load related product\n      listRelated(res.data._id).then((res) => {\n        setRelatedProducts(res.data);\n      });\n    });\n  };\n\n  const handleChangeRating = (newRating, name) => {\n    setStar(newRating);\n    updateProductRating(user.token, name, newRating).then((res) => {\n      loadSingleProduct();\n    });\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row pt-4\">\n        <SingleProduct\n          product={product}\n          star={star}\n          handleChangeRating={handleChangeRating}\n        />\n      </div>\n\n      <div className=\"row\">\n        <div className=\"col text-center pt-5 pb-5\">\n          <hr />\n          <h4>Related Products</h4>\n          <hr />\n        </div>\n      </div>\n\n      <div className=\"row pb-5\">\n        {relatedProducts.length ? (\n          relatedProducts.map((relProd) => (\n            <div key={relProd._id} className=\"col-md-4\">\n              <ProductCard product={relProd} />\n            </div>\n          ))\n        ) : (\n          <div className=\"text-center col\">NO RELATED PRODUCTS FOUND</div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Product;\n","import React, { useState, useEffect } from \"react\";\nimport { getCategory } from \"../../api/category\";\nimport { useParams } from \"react-router-dom\";\nimport { ProductCard } from \"../../components\";\n\nconst CategoryHome = () => {\n  const { slug } = useParams();\n  const [category, setCategory] = useState();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    getCategory(slug)\n      .then((res) => {\n        setCategory(res.data.category);\n        setProducts(res.data.products);\n        setLoading(false);\n      })\n      .catch((error) => {\n        setLoading(false);\n        console.log(error);\n      });\n  }, []);\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col\">\n          {loading ? (\n            <h4 className=\"text-center jumbotron p-3 mt-5 mb-5 display-4\">\n              Loading...\n            </h4>\n          ) : (\n            <h4 className=\"text-center jumbotron p-3 mt-5 mb-5 display-4\">\n              {products.length} Products in \"{category && category.name}\"\n              category\n            </h4>\n          )}\n        </div>\n      </div>\n\n      <div className=\"row\">\n        {products.map((p) => (\n          <div className=\"col-md-3\" key={p._id}>\n            <ProductCard product={p} />\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryHome;\n","import React, { useState, useEffect } from \"react\";\nimport { getSubcategory } from \"../../api/subcategory\";\nimport { ProductCard } from \"../../components\";\nimport { useParams } from \"react-router-dom\";\n\nconst SubcategoryHome = () => {\n  const { slug } = useParams();\n  const [subcategory, setSubcategory] = useState();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    getSubcategory(slug)\n      .then((res) => {\n        setSubcategory(res.data.subcategory);\n        setProducts(res.data.products);\n        setLoading(false);\n      })\n      .catch((error) => {\n        setLoading(false);\n        console.log(error);\n      });\n  }, []);\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col\">\n          {loading ? (\n            <h4 className=\"text-center jumbotron p-3 mt-5 mb-5 display-4\">\n              Loading...\n            </h4>\n          ) : (\n            <h4 className=\"text-center jumbotron p-3 mt-5 mb-5 display-4\">\n              {products.length} Products in \"{subcategory && subcategory.name}\"\n              sub - category\n            </h4>\n          )}\n        </div>\n      </div>\n\n      <div className=\"row\">\n        {products.map((p) => (\n          <div className=\"col-md-3\" key={p._id}>\n            <ProductCard product={p} />\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default SubcategoryHome;\n","import React, { useState, useEffect } from \"react\";\nimport { getProductsByCount, searchFilter } from \"../api/product\";\nimport { getCategories } from \"../api/category\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { ProductCard, Star } from \"../components\";\nimport { Menu, Slider, Checkbox, Radio } from \"antd\";\nimport {\n  DollarOutlined,\n  DownSquareOutlined,\n  StarOutlined,\n} from \"@ant-design/icons\";\nimport { getSubcategories } from \"../api/subcategory\";\n\nconst { SubMenu, ItemGroup } = Menu;\n\nconst Shop = () => {\n  const [products, setProducts] = useState([]);\n  const [price, setPrice] = useState([0, 0]);\n  const [loading, setLoading] = useState(false);\n  const [ok, setOk] = useState(false);\n  const [categories, setCategories] = useState([]);\n  const [checkedCategories, setCheckedCategories] = useState([]);\n  const [subCategories, setSubCategories] = useState([]);\n  const [checkedSubCategories, setCheckedSubCategories] = useState([]);\n  const [star, setStar] = useState(\"\");\n  const [brands, setBrands] = useState([\n    \"Apple\",\n    \"Lenovo\",\n    \"Samsung\",\n    \"Microsoft\",\n    \"ASUS\",\n    \"MSI\",\n    \"HP\",\n    \"Acer\",\n  ]);\n  const [clickedBrand, setClickedBrand] = useState(\"\");\n  const [colors, setColors] = useState([\n    \"Black\",\n    \"Brown\",\n    \"Silver\",\n    \"Blue\",\n    \"White\",\n  ]);\n  const [checkedColor, setCheckedColor] = useState(\"\");\n  const [shipping, setShipping] = useState([\"Yes\", \"No\"]);\n  const [checkedShipping, setCheckedShipping] = useState(\"\");\n\n  const dispatch = useDispatch();\n\n  const { search } = useSelector((state) => ({ ...state }));\n  const { text } = search;\n\n  useEffect(() => {\n    loadAllProducts(10);\n    //fetch categories\n    getCategories().then((res) => {\n      setCategories(res.data);\n    });\n    // fetch subcategories\n    getSubcategories().then((res) => {\n      setSubCategories(res.data);\n    });\n  }, []);\n\n  // 1. Load products on page load\n  const loadAllProducts = (count) => {\n    setLoading(true);\n    getProductsByCount(count)\n      .then((res) => {\n        setLoading(false);\n        setProducts(res.data);\n      })\n      .catch((error) => {\n        setLoading(false);\n        console.log(error);\n      });\n  };\n\n  const fetchProductsByFilter = (arg) => {\n    setLoading(true);\n    searchFilter(arg).then((res) => {\n      setProducts(res.data);\n      setLoading(false);\n    });\n  };\n\n  // 2. Load product from search filter\n  useEffect(() => {\n    // add slight delay, to prevent request on every key\n    const delay = setTimeout(() => {\n      fetchProductsByFilter({ query: text });\n      if (!text) {\n        loadAllProducts();\n      }\n    }, 300);\n    return () => clearTimeout(delay);\n  }, [text]);\n\n  // 3. Fetch products by price range\n  useEffect(() => {\n    fetchProductsByFilter({ price: price });\n  }, [ok]);\n\n  const handleSlider = (val) => {\n    // Clear other filters\n    dispatch({ type: \"SEARCH_QUERY\", payload: { text: \"\" } });\n    setCheckedCategories([]);\n    setStar(\"\");\n    setCheckedSubCategories([]);\n    setClickedBrand(\"\");\n    setCheckedColor(\"\");\n    setCheckedShipping(\"\");\n\n    setPrice(val);\n    setTimeout(() => {\n      setOk(!ok);\n    }, 300);\n  };\n\n  // 4. Load products based on category\n  // show category list to user\n  const showCategories = () =>\n    categories.map((c) => (\n      <div key={c._id}>\n        <Checkbox\n          onChange={handleCheck}\n          className=\"pb-2 pl-4 pr-4\"\n          value={c._id}\n          name=\"category\"\n          checked={checkedCategories.includes(c._id)}\n        >\n          {c.name}\n        </Checkbox>\n        <br />\n      </div>\n    ));\n\n  // handle check for checkboxes\n  const handleCheck = (e) => {\n    // clear other filter values\n    dispatch({ type: \"SEARCH_QUERY\", payload: { text: \"\" } });\n    setPrice([0, 0]);\n    setStar(\"\");\n    setCheckedSubCategories([]);\n    setClickedBrand(\"\");\n    setCheckedColor(\"\");\n    setCheckedShipping(\"\");\n\n    let inTheState = [...checkedCategories];\n    let justChecked = e.target.value;\n    let foundInTheState = inTheState.indexOf(justChecked);\n\n    if (foundInTheState === -1) {\n      inTheState.push(justChecked);\n    } else {\n      inTheState.splice(foundInTheState, 1);\n    }\n\n    setCheckedCategories(inTheState);\n    fetchProductsByFilter({ category: inTheState });\n  };\n\n  // 5. Show products by star rating\n  const showStars = () => (\n    <div className=\"pr-4 pl-4 pb-2\">\n      <Star starClick={handleStarClick} numberOfStars={5} />\n      <Star starClick={handleStarClick} numberOfStars={4} />\n      <Star starClick={handleStarClick} numberOfStars={3} />\n      <Star starClick={handleStarClick} numberOfStars={2} />\n      <Star starClick={handleStarClick} numberOfStars={1} />\n    </div>\n  );\n\n  const handleStarClick = (num) => {\n    // clear other filter values\n    dispatch({ type: \"SEARCH_QUERY\", payload: { text: \"\" } });\n    setPrice([0, 0]);\n    setCheckedCategories([]);\n    setCheckedSubCategories([]);\n    setClickedBrand(\"\");\n    setCheckedColor(\"\");\n    setCheckedShipping(\"\");\n\n    setStar(num);\n    fetchProductsByFilter({ stars: num });\n  };\n\n  // 6. Show products by sub category\n  const showSubCategories = () =>\n    subCategories.map((s) => (\n      <div\n        key={s._id}\n        className=\"p-1 m-1 badge badge-secondary\"\n        onClick={() => handleSubCatSubmit(s)}\n        style={{ cursor: \"pointer\" }}\n      >\n        {s.name}\n      </div>\n    ));\n\n  const handleSubCatSubmit = (s) => {\n    // clear other filter values\n    dispatch({ type: \"SEARCH_QUERY\", payload: { text: \"\" } });\n    setPrice([0, 0]);\n    setCheckedCategories([]);\n    setStar(\"\");\n    setClickedBrand(\"\");\n    setCheckedColor(\"\");\n    setCheckedShipping(\"\");\n\n    setCheckedSubCategories(s);\n    fetchProductsByFilter({ subcategory: s });\n  };\n\n  // 7. Show products by brands\n  const showBrands = () =>\n    brands.map((br) => (\n      <Radio\n        key={br}\n        value={br}\n        name={br}\n        checked={br === clickedBrand}\n        onChange={handleBrandSubmit}\n        className=\"pb-2 pl-4 pr-4\"\n      >\n        {br}\n      </Radio>\n    ));\n\n  const handleBrandSubmit = (e) => {\n    // clear other filter values\n    dispatch({ type: \"SEARCH_QUERY\", payload: { text: \"\" } });\n    setPrice([0, 0]);\n    setCheckedCategories([]);\n    setCheckedSubCategories([]);\n    setStar(\"\");\n    setCheckedColor(\"\");\n    setCheckedShipping(\"\");\n\n    setClickedBrand(e.target.value);\n    fetchProductsByFilter({ brand: e.target.value });\n  };\n\n  // 8. Filter products by color\n  const showColors = () =>\n    colors.map((c) => (\n      <Radio\n        value={c}\n        name={c}\n        key={c}\n        checked={c === checkedColor}\n        onChange={handleColorSubmit}\n        className=\"pb-1 pl-4 pr-4\"\n      >\n        {c}\n      </Radio>\n    ));\n\n  const handleColorSubmit = (e) => {\n    // clear other filter values\n    dispatch({ type: \"SEARCH_QUERY\", payload: { text: \"\" } });\n    setPrice([0, 0]);\n    setCheckedCategories([]);\n    setCheckedSubCategories([]);\n    setStar(\"\");\n    setCheckedShipping(\"\");\n\n    setCheckedColor(e.target.value);\n    fetchProductsByFilter({ color: e.target.value });\n  };\n\n  // 9. Filter products by shipping\n  const showShipping = () =>\n    shipping.map((s) => (\n      <Radio\n        value={s}\n        name={s}\n        key={s}\n        checked={s === checkedShipping}\n        onChange={handleShippingSubmit}\n        className=\"pb-1 pl-4 pr-4\"\n      >\n        {s}\n      </Radio>\n    ));\n\n  const handleShippingSubmit = (e) => {\n    // clear other filter values\n    dispatch({ type: \"SEARCH_QUERY\", payload: { text: \"\" } });\n    setPrice([0, 0]);\n    setCheckedCategories([]);\n    setCheckedSubCategories([]);\n    setStar(\"\");\n    setCheckedColor(\"\");\n\n    setCheckedShipping(e.target.value);\n    fetchProductsByFilter({ shipping: e.target.value });\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-3 pt-2\">\n          <h4>Search/Filter</h4>\n          <hr />\n\n          <Menu\n            mode=\"inline\"\n            defaultOpenKeys={[\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\"]}\n          >\n            {/* Price */}\n            <SubMenu\n              key=\"1\"\n              title={\n                <span className=\"h6\">\n                  <DollarOutlined />\n                  Price\n                </span>\n              }\n            >\n              <div>\n                <Slider\n                  className=\"ml-4 mr-4\"\n                  tipFormatter={(val) => `$${val}`}\n                  range\n                  value={price}\n                  onChange={handleSlider}\n                  max=\"4999\"\n                />\n              </div>\n            </SubMenu>\n\n            {/* Categories */}\n            <SubMenu\n              key=\"2\"\n              title={\n                <span className=\"h6\">\n                  <DownSquareOutlined />\n                  Categories\n                </span>\n              }\n            >\n              <div style={{ marginTop: \"-10px\" }}>{showCategories()}</div>\n            </SubMenu>\n\n            {/* Ratings */}\n            <SubMenu\n              key=\"3\"\n              title={\n                <span className=\"h6\">\n                  <StarOutlined />\n                  Rating\n                </span>\n              }\n            >\n              <div style={{ marginTop: \"-10px\" }}>{showStars()}</div>\n            </SubMenu>\n\n            {/* Subcategories */}\n            <SubMenu\n              key=\"4\"\n              title={\n                <span className=\"h6\">\n                  <DownSquareOutlined />\n                  Sub-Categories\n                </span>\n              }\n            >\n              <div className=\"pl-4 pr-4\" style={{ marginTop: \"-10px\" }}>\n                {showSubCategories()}\n              </div>\n            </SubMenu>\n\n            {/* Brands */}\n            <SubMenu\n              key=\"5\"\n              title={\n                <span className=\"h6\">\n                  <DownSquareOutlined />\n                  Brands\n                </span>\n              }\n            >\n              <div className=\"h6\" style={{ marginTop: \"-10px\" }}>\n                {showBrands()}\n              </div>\n            </SubMenu>\n\n            {/* Colors */}\n            <SubMenu\n              key=\"6\"\n              title={\n                <span className=\"h6\">\n                  <DownSquareOutlined />\n                  Color\n                </span>\n              }\n            >\n              <div className=\"h6\" style={{ marginTop: \"-10px\" }}>\n                {showColors()}\n              </div>\n            </SubMenu>\n\n            {/* Colors */}\n            <SubMenu\n              key=\"7\"\n              title={\n                <span className=\"h6\">\n                  <DownSquareOutlined />\n                  Shipping\n                </span>\n              }\n            >\n              <div className=\"h6\" style={{ marginTop: \"-10px\" }}>\n                {showShipping()}\n              </div>\n            </SubMenu>\n          </Menu>\n        </div>\n\n        <div className=\"col-md-9 pt-2\">\n          {loading ? (\n            <h4 className=\"text-danger\">Loading...</h4>\n          ) : (\n            <h4 className=\"text-danger\">Products</h4>\n          )}\n\n          {products.length < 1 && <p>No Products Found</p>}\n\n          <div className=\"row pb-5\">\n            {products.map((p) => (\n              <div key={p._id} className=\"col-md-4 mt-3\">\n                <ProductCard product={p} />\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Shop;\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { ProductCardInCheckout } from \"../components\";\nimport { userCart } from \"../api/user\";\n\nconst Cart = ({ history }) => {\n  const { cart, user } = useSelector((state) => ({ ...state }));\n  const dispatch = useDispatch();\n\n  const getTotal = () => {\n    return cart.reduce((currVal, nextVal) => {\n      return currVal + nextVal.count * nextVal.price;\n    }, 0);\n  };\n\n  const showCartItems = () => (\n    <table className=\"table table-bordered\">\n      <thead className=\"thead-light\">\n        <tr>\n          <th scope=\"col\">Image</th>\n          <th scope=\"col\">Title</th>\n          <th scope=\"col\">Price</th>\n          <th scope=\"col\">Brand</th>\n          <th scope=\"col\">Color</th>\n          <th scope=\"col\">Quantity</th>\n          <th scope=\"col\">Shipping</th>\n          <th scope=\"col\">Remove</th>\n        </tr>\n      </thead>\n\n      {cart.map((p) => (\n        <ProductCardInCheckout key={p._id} product={p} />\n      ))}\n    </table>\n  );\n\n  const saveOrderToDb = (e) => {\n    // console.log(\"SAVE ORDER TO DB\", JSON.stringify(cart, null, 4));\n    if (e.target.name === \"cod\") {\n      // console.log(\"YES COD\");\n      dispatch({\n        type: \"SET_COD\",\n        payload: true,\n      });\n    }\n    userCart(cart, user.token)\n      .then((res) => {\n        // console.log(\"CART POST RESPONSE\", res.data);\n        if (res.data.ok) {\n          history.push(\"/checkout\");\n        }\n      })\n      .catch((err) => {\n        console.log(\"CART SAVE ERROR\", err);\n      });\n  };\n\n  return (\n    <div className=\"container-fluid pt-2\">\n      <div className=\"row\">\n        <div className=\"col-md-8\">\n          <h4>Cart - {cart.length} Products</h4>\n\n          {!cart.length ? (\n            <p>\n              No products in cart. <Link to=\"/shop\">Continue Shopping!</Link>\n            </p>\n          ) : (\n            showCartItems()\n          )}\n        </div>\n\n        <div className=\"col-md-4\">\n          <h4>Order Summary</h4>\n          <hr />\n          <p>Products</p>\n          {cart.map((c, i) => (\n            <div key={i}>\n              <p>\n                {c.title} x {c.count} = ${c.price * c.count}\n              </p>\n            </div>\n          ))}\n          <hr />\n          Total: <b>${getTotal()}</b>\n          <hr />\n          {user ? (\n            <>\n              <button\n                onClick={saveOrderToDb}\n                className=\"btn btn-sm btn-primary mt-2\"\n                disabled={!cart.length}\n              >\n                Proceed to Checkout\n              </button>\n              <br />\n              <button\n                onClick={saveOrderToDb}\n                className=\"btn btn-sm btn-primary mt-2\"\n                disabled={!cart.length}\n                name=\"cod\"\n              >\n                Pay Cash on Delivery\n              </button>\n            </>\n          ) : (\n            <button className=\"btn btn-sm btn-primary mt-2\">\n              <Link\n                to={{\n                  pathname: \"/login\",\n                  state: { from: `/cart` },\n                }}\n              >\n                Login to Checkout\n              </Link>\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Cart;\n","import React, { useEffect, useState } from \"react\";\nimport { UserNav, ShowPaymentInfo, Invoice } from \"../../components\";\nimport { getUserOrders } from \"../../api/user\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { CheckCircleOutlined, CloseCircleOutlined } from \"@ant-design/icons\";\nimport { toast } from \"react-toastify\";\nimport { PDFDownloadLink } from \"@react-pdf/renderer\";\n\nconst History = () => {\n  const { user } = useSelector((state) => ({ ...state }));\n  const [orders, setOrders] = useState([]);\n\n  useEffect(() => {\n    loadUserOrders();\n  }, []);\n\n  const loadUserOrders = () => {\n    getUserOrders(user.token).then((res) => {\n      setOrders(res.data);\n      console.log(res.data);\n    });\n  };\n\n  const showEachOrders = () =>\n    orders.reverse().map((o, i) => (\n      <div key={i} className=\"m-5 p-3 card\">\n        <ShowPaymentInfo order={o} />\n        {showOrderInTable(o)}\n        <div className=\"row\">\n          <div className=\"col\">{showDownloadLink(o)}</div>\n        </div>\n      </div>\n    ));\n\n  const showDownloadLink = (order) => (\n    <PDFDownloadLink\n      document={<Invoice order={order} />}\n      fileName=\"invoice.pdf\"\n      className=\"btn btn-sm btn-block btn-outline-primary\"\n    >\n      Download PDF\n    </PDFDownloadLink>\n  );\n\n  const showOrderInTable = (order) => (\n    <table className=\"table table-bordered\">\n      <thead className=\"thead-light\">\n        <tr>\n          <th scope=\"col\">Title</th>\n          <th scope=\"col\">Price</th>\n          <th scope=\"col\">Brand</th>\n          <th scope=\"col\">Color</th>\n          <th scope=\"col\">Count</th>\n          <th scope=\"col\">Shipping</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        {order.products.map((p, i) => (\n          <tr key={i}>\n            <td>\n              <b>{p.product.title}</b>\n            </td>\n            <td> {p.product.price}</td>\n            <td> {p.product.brand}</td>\n            <td> {p.color}</td>\n            <td> {p.count}</td>\n            <td>\n              {\" \"}\n              {p.product.shipping === \"Yes\" ? (\n                <CheckCircleOutlined style={{ color: \"green\" }} />\n              ) : (\n                <CloseCircleOutlined style={{ color: \"red\" }} />\n              )}\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"colmd-2\">\n          <UserNav />\n        </div>\n        <div className=\"col text-center\">\n          {orders.length > 0 ? (\n            <h4>Previous orders</h4>\n          ) : (\n            <h4>No orders yet</h4>\n          )}\n\n          {showEachOrders()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default History;\n","import React, { useState } from \"react\";\nimport { UserNav } from \"../../components\";\nimport { auth } from \"../../firebase\";\nimport { toast } from \"react-toastify\";\n\nconst Password = () => {\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    await auth.currentUser\n      .updatePassword(password)\n      .then(() => {\n        setLoading(false);\n        setPassword(\"\");\n        toast.success(\"Successfully updated password\");\n      })\n      .catch((error) => {\n        setLoading(false);\n        console.log(error);\n        toast.error(error.message);\n      });\n  };\n\n  const passwordUpdateForm = () => {\n    return (\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label>Your Password</label>\n          <input\n            type=\"password\"\n            onChange={(e) => setPassword(e.target.value)}\n            className=\"form-control\"\n            placeholder=\"Enter new password\"\n            disabled={loading}\n            value={password}\n          />\n          <button\n            className=\"btn btn-primary\"\n            disabled={!password || loading || password.length < 6}\n          >\n            Submit\n          </button>\n        </div>\n      </form>\n    );\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"colmd-2\">\n          <UserNav />\n        </div>\n        <div className=\"col\">\n          {loading ? <h4>Updating</h4> : <h4>Password Update</h4>}\n          {passwordUpdateForm()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Password;\n","import React, { useState, useEffect } from \"react\";\nimport { UserNav } from \"../../components\";\nimport { getWishlist, removeWishlist } from \"../../api/user\";\nimport { useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { DeleteOutlined } from \"@ant-design/icons\";\n\nconst Wishlist = () => {\n  const [UserWishlist, setUserWishlist] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadAllWishlist();\n  }, []);\n\n  const loadAllWishlist = () => {\n    setLoading(true);\n    getWishlist(user.token).then((res) => {\n      setUserWishlist(res.data[0].wishlist);\n      // console.log(res.data[0].wishlist);\n      setLoading(false);\n    });\n  };\n\n  const handleRemoveWishlist = (productId) => {\n    removeWishlist(productId, user.token).then((res) => {\n      loadAllWishlist();\n    });\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"colmd-2\">\n          <UserNav />\n        </div>\n        <div className=\"col\">\n          <h4>Wishlist</h4>\n          {UserWishlist.map((p) => (\n            <div key={p._id} className=\"alert alert-secondary\">\n              <Link to={`/product/${p.slug}`}>{p.title}</Link>\n              <span\n                className=\"btn btn-sm float-right\"\n                onClick={() => handleRemoveWishlist(p._id)}\n              >\n                <DeleteOutlined />\n              </span>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Wishlist;\n","import React, { useState, useEffect } from \"react\";\nimport {\n  getUserCart,\n  emptyCart,\n  saveUserAddress,\n  applyCoupon,\n  createCodOrder,\n} from \"../api/user\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\n\nconst Checkout = ({ history }) => {\n  const dispatch = useDispatch();\n  const [products, setProducts] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [discountTotal, setDiscountTotal] = useState(0);\n  const [discountError, setDiscountError] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [addressSaved, setAddressSaved] = useState(false);\n  const [coupon, setCoupon] = useState(\"\");\n\n  const { user, cod } = useSelector((state) => ({ ...state }));\n  const couponTrueOrFalse = useSelector((state) => state.coupon);\n\n  useEffect(() => {\n    getUserCart(user.token).then((res) => {\n      // console.log(res.data);\n      setProducts(res.data.products);\n      setTotal(res.data.cartTotal);\n    });\n  }, []);\n\n  const handleEmptyCart = () => {\n    // remove from local storage\n    if (typeof window !== \"undefined\") {\n      localStorage.removeItem(\"cart\");\n    }\n\n    // remove from redux\n    dispatch({\n      type: \"ADD_TO_CART\",\n      payload: [],\n    });\n\n    // remove from backend\n    emptyCart(user.token).then((res) => {\n      setProducts([]);\n      setTotal(0);\n      toast.success(\"Cart is empty. Continue Shopping!\");\n    });\n\n    // clear discounts\n    setDiscountTotal(0);\n    setCoupon(\"\");\n  };\n\n  const saveAddressToDb = () => {\n    // console.log(address);\n    saveUserAddress(address, user.token).then((res) => {\n      if (res.data.ok) {\n        setAddressSaved(true);\n        toast.success(\"Address Saved\");\n      }\n    });\n  };\n\n  const showAddress = () => (\n    <>\n      <ReactQuill theme=\"snow\" value={address} onChange={setAddress} />\n      <button className=\"btn btn-primary mt-2\" onClick={saveAddressToDb}>\n        Save\n      </button>\n    </>\n  );\n\n  const showProductSummary = () => (\n    <>\n      {products.map((p, i) => (\n        <div key={i}>\n          <p>\n            {p.product.title} ({p.color}) x {p.count} = {p.product.price}\n          </p>\n        </div>\n      ))}\n    </>\n  );\n\n  const handleApplyCoupon = () => {\n    // console.log(\"SEND THIS COUPON TO SERVER\", coupon);\n    applyCoupon(coupon, user.token).then((res) => {\n      console.log(\"RES ON COUPON APPLIED\", res.data);\n      if (res.data) {\n        setDiscountTotal(res.data);\n        // update redux coupon applied to true/false\n        dispatch({\n          type: \"COUPON_APPLIED\",\n          payload: true,\n        });\n      }\n\n      if (res.data.err) {\n        setDiscountError(res.data.err);\n        // update redux coupon applied to true/false\n        dispatch({\n          type: \"COUPON_APPLIED\",\n          payload: false,\n        });\n      }\n    });\n  };\n\n  const showApplyCoupon = () => (\n    <>\n      <input\n        onChange={(e) => {\n          setDiscountError(\"\");\n          setCoupon(e.target.value);\n        }}\n        type=\"text\"\n        className=\"form-control\"\n        value={coupon}\n      />\n      <button onClick={handleApplyCoupon} className=\"btn btn-primary mt-2\">\n        Apply\n      </button>\n    </>\n  );\n\n  const createCOD = () => {\n    createCodOrder(user.token, cod, couponTrueOrFalse).then((res) => {\n      // console.log(\"COD ORDER CREATE RESPONSE\", res.data);\n      if (res.data.ok) {\n        // empty user cart from local storage\n        if (typeof window !== \"undefined\") {\n          window.localStorage.removeItem(\"cart\");\n        }\n        // empty user cart from redux store\n        dispatch({\n          type: \"ADD_TO_CART\",\n          payload: [],\n        });\n        // reset coupon to false\n        dispatch({\n          type: \"COUPON_APPLIED\",\n          payload: false,\n        });\n        // empty cod redux\n        dispatch({\n          type: \"SET_COD\",\n          payload: false,\n        });\n        // empty cart from database\n        emptyCart(user.token);\n        // redirect user\n        setTimeout(() => {\n          history.push(\"/user/history\");\n        }, 1000);\n      }\n    });\n  };\n\n  return (\n    <div className=\"row\">\n      <div className=\"col-md-6\">\n        <h4>Delivery Address</h4>\n        <br />\n        <br />\n        {showAddress()}\n        <hr />\n        <h4>Got Coupon?</h4>\n        <br />\n        {showApplyCoupon()}\n        <br />\n        {discountError && <p className=\"bg-danger p-2\">{discountError}</p>}\n      </div>\n\n      <div className=\"col-md-6\">\n        <h4>Order Summary</h4>\n        <hr />\n        <p>Products - {products.length}</p>\n        <hr />\n        {showProductSummary()}\n        <hr />\n        <p>Cart Total: ${total}</p>\n\n        {discountTotal > 0 && (\n          <p className=\"bg-success p-2\">Discount Applied: ${discountTotal}</p>\n        )}\n\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            {cod ? (\n              <button\n                disabled={!addressSaved || !products.length}\n                className=\"btn btn-primary\"\n                onClick={createCOD}\n              >\n                Place Order\n              </button>\n            ) : (\n              <button\n                disabled={!addressSaved || !products.length}\n                className=\"btn btn-primary\"\n                onClick={() => history.push(\"/payment\")}\n              >\n                Place Order\n              </button>\n            )}\n          </div>\n\n          <div className=\"col-md-6\">\n            <button\n              disabled={!products.length}\n              onClick={handleEmptyCart}\n              className=\"btn btn-primary\"\n            >\n              Empty Cart\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Checkout;\n","import React from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { StripeCheckoutComponent } from \"../components\";\n\nimport \"../stripe.css\";\n\n// load stripe outside of components to avoid recreating stripe object on every render\nconst promise = loadStripe(process.env.REACT_APP_STRIPE_KEY);\n\nconst Payment = () => {\n  return (\n    <div className=\"container p-5 text-center\">\n      <h4>Complete your purchase</h4>\n      <Elements stripe={promise}>\n        <div className=\"col-md-8 offset-md-2\">\n          <StripeCheckoutComponent />\n        </div>\n      </Elements>\n    </div>\n  );\n};\n\nexport default Payment;\n","import axios from \"axios\";\n\nexport const getAllOrders = async (authtoken) => {\n  return await axios.get(`${process.env.REACT_APP_BACKEND_API}/admin/orders`, {\n    headers: {\n      authtoken,\n    },\n  });\n};\n\nexport const updateOrderStatus = async (orderId, orderStatus, authtoken) => {\n  return await axios.put(\n    `${process.env.REACT_APP_BACKEND_API}/admin/order-status`,\n    { orderId, orderStatus },\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { AdminNav, Orders } from \"../../components\";\nimport { getAllOrders, updateOrderStatus } from \"../../api/admin\";\nimport { useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\n\nconst AdminDashboard = () => {\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadAllOrders();\n  }, []);\n\n  const loadAllOrders = () => {\n    setLoading(true);\n    getAllOrders(user.token).then((res) => {\n      setOrders(res.data);\n      setLoading(false);\n    });\n  };\n\n  const handleOrderStatusUpdate = (orderId, orderStatus) => {\n    setLoading(true);\n    updateOrderStatus(orderId, orderStatus, user.token).then((res) => {\n      toast.success(\"Order status changed\");\n      setLoading(false);\n      loadAllOrders();\n    });\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"colmd-2\">\n          <AdminNav />\n        </div>\n        <div className=\"col\">\n          <h4>Dashboard</h4>\n          <Orders\n            orders={orders}\n            handleStatusChange={handleOrderStatusUpdate}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminDashboard;\n","import React, { useState, useEffect } from \"react\";\nimport { AdminNav, CategoryForm, LocalSearch } from \"../../../components\";\nimport { useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport { Link } from \"react-router-dom\";\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport {\n  createCategory,\n  getCategories,\n  removeCategory,\n} from \"../../../api/category\";\n\nconst CategoryCreate = () => {\n  const [name, setName] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [categories, setCategories] = useState([]);\n  const [keyword, setKeyword] = useState(\"\");\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadCategories();\n  }, []);\n\n  const loadCategories = () => {\n    getCategories()\n      .then((res) => {\n        setCategories(res.data);\n        // console.log(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    createCategory(user.token, name)\n      .then((res) => {\n        setLoading(false);\n        setName(\"\");\n        toast.success(`\"${res.data.name}\" is created`);\n        loadCategories();\n        // console.log(res);\n      })\n      .catch((err) => {\n        setLoading(false);\n        if (err.response.status === 400) toast.error(err.response.data);\n        console.log(err);\n      });\n  };\n\n  const handleDeleteCategory = async (slug) => {\n    if (window.confirm(\"Delete?\")) {\n      setLoading(true);\n      removeCategory(user.token, slug)\n        .then((res) => {\n          setLoading(false);\n          toast.success(`${res.data.name} deleted`);\n          loadCategories();\n        })\n        .catch((err) => {\n          if (err.response.status === 400) {\n            setLoading(false);\n            toast.error(err.response.data);\n            console.log(err);\n          }\n        });\n    }\n  };\n\n  const filteredItems = categories.filter((item) =>\n    item.name.toLocaleLowerCase().includes(keyword)\n  );\n\n  const categoriesToDisplay = keyword ? filteredItems : categories;\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <AdminNav />\n        </div>\n        <div className=\"col\">\n          {loading ? <h4>...Loading</h4> : <h4>Create Category</h4>}\n          <CategoryForm\n            handleSubmit={handleSubmit}\n            name={name}\n            setName={setName}\n          />\n          <LocalSearch keyword={keyword} setKeyword={setKeyword} />\n\n          {categoriesToDisplay.map((c) => (\n            <div className=\"alert alert-secondary\" key={c._id}>\n              {c.name}\n              <span\n                onClick={() => handleDeleteCategory(c.slug)}\n                className=\"btn btn-small float-right\"\n              >\n                <DeleteOutlined className=\"text-danger\" />\n              </span>\n              <Link to={`/admin/category/${c.slug}`}>\n                <span className=\"btn btn-small float-right\">\n                  <EditOutlined className=\"text-warning\" />\n                </span>\n              </Link>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryCreate;\n","import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { AdminNav, CategoryForm } from \"../../../components\";\nimport { updateCategory, getCategory } from \"../../../api/category\";\nimport { useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\n\nconst CategoryUpdate = ({ history }) => {\n  const { slug } = useParams();\n  const [name, setName] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadCategory();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const loadCategory = () => {\n    getCategory(slug).then((res) => {\n      setName(res.data.name);\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    updateCategory(user.token, slug, { name })\n      .then((res) => {\n        setLoading(false);\n        toast.success(`\"${res.data.name}\" is updated`);\n        history.push(\"/admin/category\");\n      })\n      .catch((err) => {\n        setLoading(false);\n        if (err.response.status === 400) toast.error(err.response.data);\n        console.log(err);\n      });\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"colmd-2\">\n          <AdminNav />\n        </div>\n        <div className=\"col\">\n          {loading ? <h4>...Loading</h4> : <h4>Update Category</h4>}\n          <CategoryForm\n            handleSubmit={handleSubmit}\n            name={name}\n            setName={setName}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryUpdate;\n","import React, { useState, useEffect } from \"react\";\nimport { AdminNav, CategoryForm, LocalSearch } from \"../../../components\";\nimport { useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport { Link } from \"react-router-dom\";\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport { getCategories } from \"../../../api/category\";\nimport {\n  createSubcategory,\n  getSubcategories,\n  removeSubcategory,\n} from \"../../../api/subcategory\";\n\nconst SubcategoryCreate = () => {\n  const [name, setName] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [categories, setCategories] = useState([]);\n  const [category, setCategory] = useState([]);\n  const [keyword, setKeyword] = useState(\"\");\n  const [subcategories, setSubcategories] = useState([]);\n\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadCategories();\n    loadSubcategories();\n  }, []);\n\n  const loadCategories = () => {\n    getCategories()\n      .then((res) => {\n        setCategories(res.data);\n        // console.log(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const loadSubcategories = () => {\n    getSubcategories()\n      .then((res) => {\n        setSubcategories(res.data);\n        // console.log(res.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    createSubcategory(user.token, name, category)\n      .then((res) => {\n        setLoading(false);\n        setName(\"\");\n        toast.success(`\"${res.data.name}\" is created`);\n        loadSubcategories();\n        // console.log(res);\n      })\n      .catch((err) => {\n        setLoading(false);\n        if (err.response.status === 400) toast.error(err.response.data);\n        console.log(err);\n      });\n  };\n\n  const handleDeleteSubcategory = async (slug) => {\n    if (window.confirm(\"Delete?\")) {\n      setLoading(true);\n      removeSubcategory(user.token, slug)\n        .then((res) => {\n          setLoading(false);\n          toast.success(`${res.data.name} deleted`);\n          loadSubcategories();\n        })\n        .catch((err) => {\n          if (err.response.status === 400) {\n            setLoading(false);\n            toast.error(err.response.data);\n            console.log(err);\n          }\n        });\n    }\n  };\n\n  const filteredItems = subcategories.filter((item) =>\n    item.name.toLocaleLowerCase().includes(keyword)\n  );\n\n  const subcategoriesToDisplay = keyword ? filteredItems : subcategories;\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"colmd-2\">\n          <AdminNav />\n        </div>\n        <div className=\"col\">\n          {loading ? <h4>...Loading</h4> : <h4>Create Sub Category</h4>}\n          <div className=\"form-group\">\n            <label>Category</label>\n            <select\n              name=\"category\"\n              className=\"form-control\"\n              onChange={(e) => setCategory(e.target.value)}\n            >\n              <option>Select Category</option>\n              {categories.length &&\n                categories.map((c) => (\n                  <option key={c._id} value={c._id}>\n                    {c.name}\n                  </option>\n                ))}\n            </select>\n          </div>\n          <CategoryForm\n            handleSubmit={handleSubmit}\n            name={name}\n            setName={setName}\n          />\n          <LocalSearch keyword={keyword} setKeyword={setKeyword} />\n          {subcategoriesToDisplay.map((c) => (\n            <div className=\"alert alert-secondary\" key={c._id}>\n              {c.name}\n              <span\n                onClick={() => handleDeleteSubcategory(c.slug)}\n                className=\"btn btn-small float-right\"\n              >\n                <DeleteOutlined className=\"text-danger\" />\n              </span>\n              <Link to={`/admin/subcategory/${c.slug}`}>\n                <span className=\"btn btn-small float-right\">\n                  <EditOutlined className=\"text-warning\" />\n                </span>\n              </Link>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SubcategoryCreate;\n","import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { AdminNav, CategoryForm } from \"../../../components\";\nimport { updateSubcategory, getSubcategory } from \"../../../api/subcategory\";\nimport { getCategories } from \"../../../api/category\";\nimport { useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\n\nconst SubcategoryUpdate = ({ history }) => {\n  const { slug } = useParams();\n  const [name, setName] = useState(\"\");\n  const [categories, setCategories] = useState([]);\n  const [category, setCategory] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadCategories();\n    loadSubcategory();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const loadCategories = () => {\n    getCategories()\n      .then((res) => {\n        setCategories(res.data);\n        // console.log(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const loadSubcategory = () => {\n    getSubcategory(slug).then((res) => {\n      setName(res.data.name);\n      setCategory(res.data.parent);\n      //   console.log(res);\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    updateSubcategory(user.token, slug, name, category)\n      .then((res) => {\n        setLoading(false);\n        toast.success(`\"${res.data.name}\" is updated`);\n        history.push(\"/admin/subcategory\");\n        // console.log(res);\n      })\n      .catch((err) => {\n        setLoading(false);\n        if (err.response.status === 400) toast.error(err.response.data);\n        console.log(err);\n      });\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"colmd-2\">\n          <AdminNav />\n        </div>\n        <div className=\"col\">\n          {loading ? <h4>...Loading</h4> : <h4>Update Sub Category</h4>}\n          <div className=\"form-group\">\n            <label>Category</label>\n            <select\n              name=\"category\"\n              className=\"form-control\"\n              onChange={(e) => setCategory(e.target.value)}\n              value={category}\n            >\n              {categories.length &&\n                categories.map((c) => (\n                  <option key={c._id} value={c._id}>\n                    {c.name}\n                  </option>\n                ))}\n            </select>\n          </div>\n          <CategoryForm\n            handleSubmit={handleSubmit}\n            name={name}\n            setName={setName}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SubcategoryUpdate;\n","import React, { useState, useEffect } from \"react\";\nimport { AdminNav, ProductCreateForm, FileUpload } from \"../../../components\";\nimport { useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport { getCategories } from \"../../../api/category\";\nimport { createProduct } from \"../../../api/product\";\nimport { getCategorySubs } from \"../../../api/category\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\n\nconst initialState = {\n  title: \"\",\n  description: \"\",\n  price: \"\",\n  categories: [],\n  category: \"\",\n  subcategories: [],\n  shipping: \"\",\n  quantity: \"\",\n  images: [],\n  colors: [\"Black\", \"Brown\", \"Silver\", \"Blue\", \"White\"],\n  brands: [\n    \"Apple\",\n    \"Lenovo\",\n    \"Samsung\",\n    \"Microsoft\",\n    \"ASUS\",\n    \"MSI\",\n    \"HP\",\n    \"Acer\",\n  ],\n  color: \"\",\n  brand: \"\",\n};\n\nconst ProductCreate = ({ history }) => {\n  const [values, setValues] = useState(initialState);\n  const [subOptions, setSubOptions] = useState([]);\n  const [showSub, setShowSub] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadCategories();\n  }, []);\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    setValues({ ...values, [e.target.name]: e.target.value });\n    // console.log({ ...values, [e.target.name]: e.target.value });\n  };\n\n  const handleCatChange = (e) => {\n    e.preventDefault();\n    setValues({ ...values, subcategories: [], category: e.target.value });\n    setShowSub(true);\n    getCategorySubs(e.target.value).then((res) => {\n      setSubOptions(res.data);\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    createProduct(user.token, { ...values })\n      .then((res) => {\n        toast.success(`\"${res.data.title}\" is created`);\n        history.push(\"/admin/products\");\n      })\n      .catch((error) => {\n        // if (error.response.status === 400) toast.error(error.response.data);\n        toast.error(error.response.data.err);\n        console.log(error);\n      });\n  };\n\n  const loadCategories = () => {\n    getCategories().then((res) => {\n      setValues({ ...values, categories: res.data });\n    });\n  };\n\n  const handleSetSubs = (value) => {\n    // e.preventDefault();\n    setValues({ ...values, subcategories: value });\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"colmd-2\">\n          <AdminNav />\n        </div>\n        <div className=\"col-md-10\">\n          {loading ? (\n            <LoadingOutlined className=\"text-danger h1\" />\n          ) : (\n            <h4>Create Product</h4>\n          )}\n          <hr />\n          <div className=\"p-3\">\n            <FileUpload\n              values={values}\n              setValues={setValues}\n              setLoading={setLoading}\n            />\n          </div>\n          <ProductCreateForm\n            handleSubmit={handleSubmit}\n            handleChange={handleChange}\n            handleCatChange={handleCatChange}\n            values={values}\n            subOptions={subOptions}\n            handleSetSubs={handleSetSubs}\n            showSub={showSub}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductCreate;\n","import React, { useState, useEffect } from \"react\";\nimport { AdminNav, AdminProductCard } from \"../../../components\";\nimport { getProductsByCount, deleteProduct } from \"../../../api/product\";\nimport { useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\n\nconst AllProducts = () => {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadAllProducts();\n  }, []);\n\n  const loadAllProducts = () => {\n    setLoading(true);\n    getProductsByCount(100)\n      .then((res) => {\n        setLoading(false);\n        setProducts(res.data);\n      })\n      .catch((error) => {\n        setLoading(false);\n        console.log(error);\n      });\n  };\n\n  const handleRemove = (slug) => {\n    if (window.confirm(\"Delete?\")) {\n      deleteProduct(user.token, slug)\n        .then((res) => {\n          loadAllProducts();\n          toast.error(`${res.data.title} is deleted`);\n        })\n        .catch((error) => {\n          console.log(error);\n          if (error.status.code === 400) toast.error(error.response.data);\n        });\n    }\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"colmd-2\">\n          <AdminNav />\n        </div>\n        <div className=\"col\">\n          {loading ? <h4>Loading...</h4> : <h4>All Products</h4>}\n          <div className=\"row\">\n            {products.map((p) => (\n              <div className=\"col-md-4 pb-3\" key={p._id}>\n                <AdminProductCard product={p} handleRemove={handleRemove} />\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AllProducts;\n","import React, { useState, useEffect } from \"react\";\nimport { AdminNav, FileUpload, ProductUpdateForm } from \"../../../components\";\nimport { useSelector } from \"react-redux\";\nimport { getProduct, updateProduct } from \"../../../api/product\";\nimport { getCategories, getCategorySubs } from \"../../../api/category\";\nimport { useParams } from \"react-router-dom\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport { toast } from \"react-toastify\";\n\nconst initialState = {\n  title: \"\",\n  description: \"\",\n  price: \"\",\n  category: \"\",\n  shipping: \"\",\n  quantity: \"\",\n  images: [],\n  colors: [\"Black\", \"Brown\", \"Silver\", \"Blue\", \"White\"],\n  brands: [\"Apple\", \"Lenovo\", \"Samsung\", \"Microsoft\", \"ASUS\"],\n  color: \"\",\n  brand: \"\",\n};\n\nconst ProductUpdate = ({ history }) => {\n  const { slug } = useParams();\n\n  const [values, setValues] = useState(initialState);\n  const [categories, setCategories] = useState([]);\n  const [subOptions, setSubOptions] = useState([]);\n  const [arrayOfSubIds, setArrayOfSubIds] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadProduct();\n    loadCategories();\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    values.subcategories = arrayOfSubIds;\n    values.category = selectedCategory ? selectedCategory : values.category;\n\n    updateProduct(user.token, slug, values)\n      .then((res) => {\n        setLoading(false);\n        toast.success(`${res.data.title} is updated`);\n        history.push(\"/admin/products\");\n      })\n      .catch((err) => {\n        console.log(err);\n        setLoading(false);\n        toast.error(err.response.data.err);\n      });\n  };\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    setValues({ ...values, [e.target.name]: e.target.value });\n    // console.log({ ...values, [e.target.name]: e.target.value });\n  };\n\n  const handleCatChange = (e) => {\n    e.preventDefault();\n    setValues({ ...values, subcategories: [] });\n\n    setSelectedCategory(e.target.value);\n    getCategorySubs(e.target.value).then((res) => {\n      setSubOptions(res.data);\n    });\n\n    if (values.category._id === e.target.value) {\n      loadProduct();\n    }\n\n    setArrayOfSubIds([]);\n  };\n\n  const handleSetSubs = () => {\n    //\n  };\n\n  const loadCategories = () => {\n    getCategories().then((res) => {\n      setCategories(res.data);\n    });\n  };\n\n  const loadProduct = () => {\n    setLoading(true);\n    getProduct(slug)\n      .then((res) => {\n        setLoading(false);\n        setValues({ ...values, ...res.data });\n        getCategorySubs(res.data.category._id).then((r) => {\n          setSubOptions(r.data);\n        });\n        let arr = [];\n        res.data.subcategories.map((s) => {\n          arr.push(s._id);\n        });\n        setArrayOfSubIds((prev) => arr);\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.log(err);\n      });\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"colmd-2\">\n          <AdminNav />\n        </div>\n        <div className=\"col-md-10\">\n          {loading ? (\n            <LoadingOutlined className=\"text-danger h1\" />\n          ) : (\n            <h4>Update Product</h4>\n          )}\n\n          <hr />\n          {values && (\n            <>\n              <div className=\"p-3\">\n                <FileUpload\n                  values={values}\n                  setValues={setValues}\n                  setLoading={setLoading}\n                />\n              </div>\n              <ProductUpdateForm\n                handleSubmit={handleSubmit}\n                handleChange={handleChange}\n                handleCatChange={handleCatChange}\n                values={values}\n                subOptions={subOptions}\n                handleSetSubs={handleSetSubs}\n                categories={categories}\n                arrayOfSubIds={arrayOfSubIds}\n                setArrayOfSubIds={setArrayOfSubIds}\n                selectedCategory={selectedCategory}\n              />\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductUpdate;\n","import axios from \"axios\";\n\nexport const getCoupons = async () => {\n  return await axios.get(`${process.env.REACT_APP_BACKEND_API}/coupons`);\n};\n\nexport const removeCoupon = async (couponId, authtoken) => {\n  return await axios.delete(\n    `${process.env.REACT_APP_BACKEND_API}/coupon/${couponId}`,\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n};\n\nexport const createCoupon = async (coupon, authtoken) => {\n  return await axios.post(\n    `${process.env.REACT_APP_BACKEND_API}/coupon`,\n    coupon,\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport { createCoupon, removeCoupon, getCoupons } from \"../../../api/coupon\";\nimport DatePicker from \"react-datepicker\";\nimport { DeleteOutlined } from \"@ant-design/icons\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { AdminNav } from \"../../../components\";\n\nconst CreateCoupon = () => {\n  const [name, setName] = useState(\"\");\n  const [expiry, setExpiry] = useState(\"\");\n  const [discount, setDiscount] = useState(\"\");\n  const [loading, setLoading] = useState(\"\");\n  const [coupons, setCoupons] = useState([]);\n\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadAllCoupons();\n  }, []);\n\n  const loadAllCoupons = () => {\n    getCoupons().then((res) => {\n      setCoupons(res.data);\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n    createCoupon({ name, expiry, discount }, user.token)\n      .then((res) => {\n        setLoading(false);\n        setName(\"\");\n        setDiscount(\"\");\n        setExpiry(\"\");\n        toast.success(`${res.data.name} is created`);\n        loadAllCoupons();\n      })\n      .catch((error) => {\n        console.log(\"CREATE COUPON ERROR\", error);\n      });\n  };\n\n  const handleDeleteCoupon = (id) => {\n    // console.log(id);\n    if (window.confirm(\"Delete?\")) {\n      setLoading(true);\n      removeCoupon(id, user.token).then((res) => {\n        setLoading(false);\n        loadAllCoupons();\n        toast.error(`${res.data.name} Deleted`);\n      });\n    }\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <AdminNav />\n        </div>\n\n        <div className=\"col-md-10\">\n          {loading ? (\n            <h4 className=\"text-danger\">Loading...</h4>\n          ) : (\n            <h4>Coupon</h4>\n          )}\n\n          <form onSubmit={handleSubmit}>\n            <div className=\"form-group\">\n              <label className=\"text-muted\">Name</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                onChange={(e) => setName(e.target.value)}\n                value={name}\n                autoFocus\n                required\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label className=\"text-muted\">Discount %</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                value={discount}\n                onChange={(e) => setDiscount(e.target.value)}\n                required\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label className=\"text-muted\">Expiry</label>\n              <br />\n              <DatePicker\n                className=\"form-control\"\n                selected={new Date()}\n                value={expiry}\n                required\n                onChange={(date) => setExpiry(date)}\n              />\n            </div>\n\n            <button className=\"btn btn-outline-primary\">Save</button>\n          </form>\n\n          <br />\n\n          <h4>{coupons.length} Coupons</h4>\n\n          <table className=\"table table-bordered\">\n            <thead className=\"thead-light\">\n              <tr>\n                <th scope=\"col\">Name</th>\n                <th scope=\"col\">Expiry</th>\n                <th scope=\"col\">Discount</th>\n                <th scope=\"col\">Action</th>\n              </tr>\n            </thead>\n\n            <tbody>\n              {coupons.map((c) => (\n                <tr key={c._id}>\n                  <td>{c.name}</td>\n                  <td>{new Date(c.expiry).toLocaleDateString()}</td>\n                  <td>{c.discount}</td>\n                  <td>\n                    <DeleteOutlined\n                      className=\"text-danger pointer\"\n                      onClick={() => handleDeleteCoupon(c._id)}\n                    />\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CreateCoupon;\n"],"sourceRoot":""}
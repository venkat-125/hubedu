{"version":3,"sources":["firebase.js","api/auth.js","App.js","reducers/cartReducer.js","reducers/index.js","reducers/userReducer.js","reducers/searchReducer.js","reducers/drawerReducer.js","reducers/couponReducer.js","reducers/codReducer.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","googleAuthProvider","GoogleAuthProvider","createOrUpdateUser","authtoken","a","axios","post","process","headers","currentUser","currentAdmin","lazily","Login","Register","Home","Product","RegisterComplete","ForgotPassword","History","Password","Wishlist","AdminDashboard","CategoryCreate","CategoryUpdate","SubcategoryCreate","SubcategoryUpdate","ProductCreate","AllProducts","ProductUpdate","CategoryHome","SubcategoryHome","Shop","Cart","Checkout","CreateCoupon","Payment","Header","UserRoute","AdminRoute","SideDrawer","App","dispatch","useDispatch","useEffect","unsubscribe","onAuthStateChanged","user","getIdTokenResult","idTokenResult","token","then","res","type","payload","name","data","email","role","_id","catch","err","console","log","fallback","className","LoadingOutlined","exact","path","component","initialState","window","localStorage","getItem","JSON","parse","rootReducer","combineReducers","state","action","search","text","cart","drawer","coupon","cod","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.98ecc800.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDaVzAR9EbZNIPIwUwXrXShvnSNW7vD38I\",\n  authDomain: \"ecommy-27d4e.firebaseapp.com\",\n  projectId: \"ecommy-27d4e\",\n  storageBucket: \"ecommy-27d4e.appspot.com\",\n  messagingSenderId: \"872698404483\",\n  appId: \"1:872698404483:web:27d536218fc355ea1645b6\",\n};\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nexport const auth = firebase.auth();\nexport var googleAuthProvider = new firebase.auth.GoogleAuthProvider();\n","import axios from \"axios\";\n\nexport const createOrUpdateUser = async (authtoken) => {\n  return await axios.post(\n    `${process.env.REACT_APP_BACKEND_API}/createOrUpdateUser`,\n    {},\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n};\n\nexport const currentUser = async (authtoken) => {\n  return await axios.post(\n    `${process.env.REACT_APP_BACKEND_API}/currentUser`,\n    {},\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n};\n\nexport const currentAdmin = async (authtoken) => {\n  return await axios.post(\n    `${process.env.REACT_APP_BACKEND_API}/currentAdmin`,\n    {},\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n};\n","import React, { useEffect, Suspense } from \"react\";\nimport { lazily } from \"react-lazily\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { auth } from \"./firebase\";\nimport { useDispatch } from \"react-redux\";\nimport { currentUser } from \"./api/auth\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\n\nconst {\n  Login,\n  Register,\n  Home,\n  Product,\n  RegisterComplete,\n  ForgotPassword,\n  History,\n  Password,\n  Wishlist,\n  AdminDashboard,\n  CategoryCreate,\n  CategoryUpdate,\n  SubcategoryCreate,\n  SubcategoryUpdate,\n  ProductCreate,\n  AllProducts,\n  ProductUpdate,\n  CategoryHome,\n  SubcategoryHome,\n  Shop,\n  Cart,\n  Checkout,\n  CreateCoupon,\n  Payment,\n} = lazily(() => import(\"./views\"));\nconst { Header, UserRoute, AdminRoute, SideDrawer } = lazily(() =>\n  import(\"./components\")\n);\n\nconst App = () => {\n  const dispatch = useDispatch();\n\n  // to check firebase auth state\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(async (user) => {\n      if (user) {\n        const idTokenResult = await user.getIdTokenResult();\n        currentUser(idTokenResult.token)\n          .then((res) => {\n            dispatch({\n              type: \"LOGGED_IN_USER\",\n              payload: {\n                name: res.data.name,\n                email: res.data.email,\n                role: res.data.role,\n                token: idTokenResult.token,\n                _id: res.data._id,\n              },\n            });\n          })\n          .catch((err) => console.log(err));\n      }\n    });\n\n    // cleanup\n    return () => unsubscribe();\n  }, [dispatch]);\n\n  return (\n    <Suspense\n      fallback={\n        <div className=\"col text-center p-5 h1\">\n          __ EC\n          <LoadingOutlined />\n          MMY __\n        </div>\n      }\n    >\n      <Header />\n      <ToastContainer />\n      <SideDrawer />\n      <Switch>\n        {/* auth routes */}\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/login\" component={Login} />\n        <Route exact path=\"/register\" component={Register} />\n        <Route exact path=\"/register/complete\" component={RegisterComplete} />\n        <Route exact path=\"/forgot/password\" component={ForgotPassword} />\n        {/* user routes */}\n        <UserRoute exact path=\"/user/history\" component={History} />\n        <UserRoute exact path=\"/user/password\" component={Password} />\n        <UserRoute exact path=\"/user/wishlist\" component={Wishlist} />\n        {/* admin routes */}\n        <AdminRoute exact path=\"/admin/dashboard\" component={AdminDashboard} />\n        <AdminRoute exact path=\"/admin/category\" component={CategoryCreate} />\n        <AdminRoute\n          exact\n          path=\"/admin/category/:slug\"\n          component={CategoryUpdate}\n        />\n        <AdminRoute\n          exact\n          path=\"/admin/subcategory\"\n          component={SubcategoryCreate}\n        />\n        <AdminRoute\n          exact\n          path=\"/admin/subcategory/:slug\"\n          component={SubcategoryUpdate}\n        />\n        <AdminRoute exact path=\"/admin/product\" component={ProductCreate} />\n        <AdminRoute exact path=\"/admin/products\" component={AllProducts} />\n        <AdminRoute\n          exact\n          path=\"/admin/product/:slug\"\n          component={ProductUpdate}\n        />\n        <AdminRoute exact path=\"/admin/coupon\" component={CreateCoupon} />\n        {/* Common Routes */}\n        <Route exact path=\"/product/:slug\" component={Product} />\n        <Route exact path=\"/category/:slug\" component={CategoryHome} />\n        <Route exact path=\"/subcategory/:slug\" component={SubcategoryHome} />\n        <Route exact path=\"/shop\" component={Shop} />\n        <Route exact path=\"/cart\" component={Cart} />\n        <UserRoute exact path=\"/checkout\" component={Checkout} />\n        <UserRoute exact path=\"/payment\" component={Payment} />\n      </Switch>\n    </Suspense>\n  );\n};\n\nexport default App;\n","let initialState = [];\n\n// Load cart items from local storage\nif (typeof window !== \"undefined\") {\n  if (localStorage.getItem(\"cart\")) {\n    initialState = JSON.parse(localStorage.getItem(\"cart\"));\n  } else {\n    initialState = [];\n  }\n}\n\nexport const cartReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"ADD_TO_CART\":\n      return action.payload;\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport { userReducer } from \"./userReducer\";\nimport { searchReducer } from \"./searchReducer\";\nimport { cartReducer } from \"./cartReducer\";\nimport { drawerReducer } from \"./drawerReducer\";\nimport { couponReducer } from \"./couponReducer\";\nimport { codReducer } from \"./codReducer\";\n\nconst rootReducer = combineReducers({\n  user: userReducer,\n  search: searchReducer,\n  cart: cartReducer,\n  drawer: drawerReducer,\n  coupon: couponReducer,\n  cod: codReducer,\n});\n\nexport default rootReducer;\n","export const userReducer = (state = null, action) => {\n  switch (action.type) {\n    case \"LOGGED_IN_USER\":\n      return action.payload;\n    case \"LOGOUT\":\n      return action.payload;\n    default:\n      return state;\n  }\n};\n","export const searchReducer = (state = { text: \"\" }, action) => {\n  switch (action.type) {\n    case \"SEARCH_QUERY\":\n      return { ...state, ...action.payload };\n    default:\n      return state;\n  }\n};\n","export const drawerReducer = (state = false, action) => {\n  switch (action.type) {\n    case \"SET_VISIBLE\":\n      return action.payload;\n    default:\n      return state;\n  }\n};\n","export const couponReducer = (state = false, action) => {\n  switch (action.type) {\n    case \"COUPON_APPLIED\":\n      return action.payload;\n    default:\n      return state;\n  }\n};\n","export const codReducer = (state = false, action) => {\n  switch (action.type) {\n    case \"SET_COD\":\n      return action.payload;\n    default:\n      return state;\n  }\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"antd/dist/antd.css\";\n\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport rootReducer from \"./reducers\";\n\n// store\nconst store = createStore(\n  rootReducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}